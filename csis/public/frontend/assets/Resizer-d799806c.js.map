{"version":3,"file":"Resizer-d799806c.js","sources":["../../../../frontend/src/components/Resizer.vue"],"sourcesContent":["<template>\n  <div class=\"relative\" :style=\"{ width: `${sidebarWidth}px` }\">\n    <slot v-bind=\"{ sidebarResizing, sidebarWidth }\" />\n    <div\n      class=\"absolute z-10 h-full w-1 cursor-col-resize bg-surface-gray-4 opacity-0 transition-opacity hover:opacity-100\"\n      :class=\"{\n        'opacity-100': sidebarResizing,\n        'left-0': side == 'right',\n        'right-0': side == 'left',\n      }\"\n      @mousedown=\"startResize\"\n    />\n  </div>\n</template>\n<script setup>\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  defaultWidth: {\n    type: Number,\n    default: 352,\n  },\n  minWidth: {\n    type: Number,\n    default: 16 * 16,\n  },\n  maxWidth: {\n    type: Number,\n    default: 30 * 16,\n  },\n  side: {\n    type: String,\n    default: 'left',\n  },\n  parent: {\n    type: Object,\n    default: null,\n  },\n})\n\nconst sidebarResizing = ref(false)\nconst sidebarWidth = ref(props.defaultWidth)\n\nfunction startResize() {\n  document.addEventListener('mousemove', resize)\n  document.addEventListener('mouseup', () => {\n    document.body.classList.remove('select-none')\n    document.body.classList.remove('cursor-col-resize')\n    document.querySelectorAll('.select-text1').forEach((el) => {\n      el.classList.remove('select-text1')\n      el.classList.add('select-text')\n    })\n    localStorage.setItem('sidebarWidth', sidebarWidth.value)\n    sidebarResizing.value = false\n    document.removeEventListener('mousemove', resize)\n  })\n}\nfunction resize(e) {\n  sidebarResizing.value = true\n  document.body.classList.add('select-none')\n  document.body.classList.add('cursor-col-resize')\n  document.querySelectorAll('.select-text').forEach((el) => {\n    el.classList.remove('select-text')\n    el.classList.add('select-text1')\n  })\n  sidebarWidth.value =\n    props.side == 'left' ? e.clientX : window.innerWidth - e.clientX\n\n  let gap = props.parent ? distance() : 0\n  sidebarWidth.value = sidebarWidth.value - gap\n\n  // snap to props.defaultWidth\n  let range = [props.defaultWidth - 10, props.defaultWidth + 10]\n  if (sidebarWidth.value > range[0] && sidebarWidth.value < range[1]) {\n    sidebarWidth.value = props.defaultWidth\n  }\n\n  if (sidebarWidth.value < props.minWidth) {\n    sidebarWidth.value = props.minWidth\n  }\n  if (sidebarWidth.value > props.maxWidth) {\n    sidebarWidth.value = props.maxWidth\n  }\n}\nfunction distance() {\n  if (!props.parent) return 0\n  const rect = props.parent.getBoundingClientRect()\n  return rect[props.side]\n}\n</script>\n"],"names":["props","__props","sidebarResizing","ref","sidebarWidth","startResize","resize","el","e","gap","distance","range"],"mappings":"w2BAiBA,MAAMA,EAAQC,EAuBRC,EAAkBC,EAAI,EAAK,EAC3BC,EAAeD,EAAIH,EAAM,YAAY,EAE3C,SAASK,GAAc,CACrB,SAAS,iBAAiB,YAAaC,CAAM,EAC7C,SAAS,iBAAiB,UAAW,IAAM,CACzC,SAAS,KAAK,UAAU,OAAO,aAAa,EAC5C,SAAS,KAAK,UAAU,OAAO,mBAAmB,EAClD,SAAS,iBAAiB,eAAe,EAAE,QAASC,GAAO,CACzDA,EAAG,UAAU,OAAO,cAAc,EAClCA,EAAG,UAAU,IAAI,aAAa,CACpC,CAAK,EACD,aAAa,QAAQ,eAAgBH,EAAa,KAAK,EACvDF,EAAgB,MAAQ,GACxB,SAAS,oBAAoB,YAAaI,CAAM,CACpD,CAAG,CACH,CACA,SAASA,EAAOE,EAAG,CACjBN,EAAgB,MAAQ,GACxB,SAAS,KAAK,UAAU,IAAI,aAAa,EACzC,SAAS,KAAK,UAAU,IAAI,mBAAmB,EAC/C,SAAS,iBAAiB,cAAc,EAAE,QAASK,GAAO,CACxDA,EAAG,UAAU,OAAO,aAAa,EACjCA,EAAG,UAAU,IAAI,cAAc,CACnC,CAAG,EACDH,EAAa,MACXJ,EAAM,MAAQ,OAASQ,EAAE,QAAU,OAAO,WAAaA,EAAE,QAE3D,IAAIC,EAAMT,EAAM,OAASU,EAAU,EAAG,EACtCN,EAAa,MAAQA,EAAa,MAAQK,EAG1C,IAAIE,EAAQ,CAACX,EAAM,aAAe,GAAIA,EAAM,aAAe,EAAE,EACzDI,EAAa,MAAQO,EAAM,CAAC,GAAKP,EAAa,MAAQO,EAAM,CAAC,IAC/DP,EAAa,MAAQJ,EAAM,cAGzBI,EAAa,MAAQJ,EAAM,WAC7BI,EAAa,MAAQJ,EAAM,UAEzBI,EAAa,MAAQJ,EAAM,WAC7BI,EAAa,MAAQJ,EAAM,SAE/B,CACA,SAASU,GAAW,CAClB,OAAKV,EAAM,OACEA,EAAM,OAAO,sBAAsB,EACpCA,EAAM,IAAI,EAFI,CAG5B"}