import{K as ie,f as o,c,d as r,l as M,a as ce,J as Z,e as P,a4 as H,a5 as Q,t as S,b as s,q as $,a1 as de,u as a,av as _e,g as u,p as f,w as i,_ as z,j as ue,z as pe,k as me,n as ve,aw as fe,m as W,i as ge,ab as he,a7 as be,ac as ke,E as xe,I as Ce,F as U,r as K,a8 as X,a6 as Y,y as ee,D as we,ax as $e,an as q}from"./index-85632e04.js";import{u as Se,e as T,f as Ve}from"./QuickEntryModal-157d8856.js";import{_ as Le}from"./Section-7d029c27.js";import{a as Be,b as Fe,L as De,G as Ie,K as Me}from"./FadedScrollableDiv-f3f408b5.js";import{E as R,D as te,a as Ne,_ as Oe}from"./DragVerticalIcon-e7d3e46c.js";import{A as Pe}from"./ArrowUpRightIcon-fffd9b01.js";import{a as je,i as Ue,_ as ae,D as ze}from"./Link-4317fd36.js";import{n as oe,b as Ee,u as Te,p as le,_ as ne,q as se,r as G}from"./index-31644aa3.js";const Re={},Ae={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Je(d,b){return o(),c("svg",Ae,b[0]||(b[0]=[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)]))}const Ke=ie(Re,[["render",Je]]),qe={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-ink-gray-8 transition-colors hover:bg-surface-gray-3 active:bg-surface-gray-4"},Ge={class:"flex flex-1 items-center justify-between gap-7"},Ze={class:"actions flex items-center justify-center"},He={key:0},Qe={__name:"DropdownItem",props:{option:{type:Object,default:()=>{}}},setup(d){const b=d,p=M(!1),w=M(!1),h=M(null);ce(()=>{var _;(_=b.option)!=null&&_.value||(p.value=!0,w.value=!0,Z(()=>h.value.el.focus()))});const L=()=>{p.value=!p.value,p.value&&Z(()=>h.value.el.focus())},k=_=>{_.target.value&&(L(),b.option.onSave(b.option,w.value),w.value=!1)};return(_,x)=>{const g=P("Button"),t=P("FeatherIcon");return o(),c("div",qe,[r("div",Ge,[H(r("div",null,S(d.option.value),513),[[Q,!p.value]]),H(s(a(_e),{ref_key:"inputRef",ref:h,modelValue:d.option.value,"onUpdate:modelValue":x[0]||(x[0]=B=>d.option.value=B),class:"w-full",placeholder:d.option.placeholder,onBlur:$(k,["stop"]),onKeydown:x[1]||(x[1]=de($(B=>B.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[Q,p.value]]),r("div",Ze,[p.value?(o(),u(g,{key:0,variant:"ghost",label:_.__("Save"),size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:k},null,8,["label"])):f("",!0),!w.value&&!d.option.selected?(o(),u(a(z),{key:1,text:"Set As Primary"},{default:i(()=>[r("div",null,[s(g,{variant:"ghost",size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:d.option.onClick},{default:i(()=>[s(Ke)]),_:1},8,["onClick"])])]),_:1})):f("",!0),p.value?f("",!0):(o(),u(a(z),{key:2,text:"Edit"},{default:i(()=>[r("div",null,[s(g,{variant:"ghost",size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:L},{default:i(()=>[s(R)]),_:1})])]),_:1})),s(a(z),{text:"Delete"},{default:i(()=>[r("div",null,[s(g,{variant:"ghost",icon:"x",size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:x[2]||(x[2]=()=>d.option.onDelete(d.option,w.value))})])]),_:1})])]),d.option.selected?(o(),c("div",He,[s(t,{name:"check",class:"text-ink-gray-5 h-4 w-6",size:"sm"})])):f("",!0)])}}},We={class:"flex flex-col gap-3"},Xe={class:"flex items-center justify-between rounded px-2.5 py-2 bg-surface-gray-2"},Ye=["onClick"],et={key:0},tt={key:1,class:"flex gap-2 items-center"},at={class:"flex gap-1 items-center"},ot={class:"px-2.5 py-2 border border-outline-gray-modals rounded text-base leading-4 text-ink-gray-8 flex items-center justify-between gap-2"},lt={class:"flex items-center gap-2"},nt={class:"flex flex-col gap-1 text-ink-gray-9"},st={class:"text-ink-gray-4 text-sm"},rt={key:1,class:"flex justify-center items-center border rounded border-dashed border-outline-gray-modals p-3"},it={class:"text-sm text-ink-gray-4"},ct={class:"mt-5.5"},dt={__name:"SidePanelLayoutEditor",props:{sections:Object,doctype:String},setup(d){const b=d,p=["Table","Table MultiSelect","Geolocation","Attach","Attach Image","HTML","Signature"],w=ue(()=>({doctype:b.doctype,restricted_fieldtypes:p,as_array:!0})),h=pe({url:"crm.api.doc.get_fields_meta",params:w.value,cache:["fieldsMeta",b.doctype],auto:!0});function L(k,_){_&&k.columns[0].fields.push(_)}return me(()=>b.doctype,()=>h.fetch(w.value),{immediate:!0}),(k,_)=>{const x=P("FeatherIcon"),g=P("Button");return o(),c("div",null,[s(a(te),{list:d.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:i(({element:t})=>{var B;return[r("div",We,[r("div",Xe,[r("div",{class:"flex max-w-fit cursor-pointer items-center gap-2 text-base leading-4 text-ink-gray-9",onClick:m=>t.opened=!t.opened},[s(x,{name:"chevron-right",class:ve(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":t.opened}])},null,8,["class"]),t.editingLabel?(o(),c("div",tt,[s(a(fe),{modelValue:t.label,"onUpdate:modelValue":m=>t.label=m,onKeydown:de(m=>t.editingLabel=!1,["enter"]),onBlur:m=>t.editingLabel=!1,onClick:_[0]||(_[0]=$(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),t.editingLabel?(o(),u(g,{key:0,icon:"check",class:"!size-4 rounded-sm",variant:"ghost",onClick:$(m=>t.editingLabel=!1,["stop"])},null,8,["onClick"])):f("",!0)])):(o(),c("div",et,S(k.__(t.label)||k.__("Untitled")),1))],8,Ye),r("div",at,[t.editingLabel?f("",!0):(o(),u(g,{key:0,class:"!size-4 rounded-sm",variant:"ghost",onClick:m=>t.editingLabel=!0},{default:i(()=>[s(R,{class:"h-3.5"})]),_:2},1032,["onClick"])),t.editable!==!1?(o(),u(g,{key:1,class:"!size-4 rounded-sm",icon:"x",variant:"ghost",onClick:m=>d.sections.splice(d.sections.indexOf(t),1)},null,8,["onClick"])):f("",!0)])]),H(r("div",null,[s(a(te),{list:((B=t.columns)==null?void 0:B[0].fields)||[],group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:i(({element:m})=>[r("div",ot,[r("div",lt,[s(Ne,{class:"h-3.5 cursor-grab"}),r("div",null,S(m.label),1)]),s(g,{variant:"ghost",icon:"x",class:"!size-4 rounded-sm",onClick:C=>t.columns[0].fields.splice(t.columns[0].fields.indexOf(m),1)},null,8,["onClick"])])]),_:2},1032,["list"]),a(h).data&&t.editable!==!1?(o(),u(je,{key:0,value:"",options:a(h).data,onChange:m=>L(t,m)},{target:i(({togglePopover:m})=>[s(g,{class:"w-full h-8 mt-1.5 !bg-surface-gray-1",variant:"outline",onClick:C=>m(),label:k.__("Add Field")},{prefix:i(()=>[s(x,{name:"plus",class:"h-4"})]),_:2},1032,["onClick","label"])]),"item-label":i(({option:m})=>[r("div",nt,[r("div",null,S(m.label),1),r("div",st,S(`${m.fieldname} - ${m.fieldtype}`),1)])]),_:2},1032,["options","onChange"])):(o(),c("div",rt,[r("div",it,S(k.__("This section is not editable")),1)]))],512),[[Q,t.opened]])])]}),_:1},8,["list"]),r("div",ct,[s(g,{class:"w-full h-8",variant:"subtle",label:k.__("Add Section"),onClick:_[1]||(_[1]=t=>d.sections.push({label:k.__("New Section"),opened:!0,name:"section_"+a(oe)(),columns:[{name:"column_"+a(oe)(),fields:[]}]}))},{prefix:i(()=>[s(x,{name:"plus",class:"h-4"})]),_:1},8,["label"])])])}}},ut={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},pt={class:"flex flex-col gap-5.5"},mt={class:"flex justify-between gap-2"},yt={class:"flex flex-row-reverse gap-2"},_t={key:0,class:"flex gap-4"},vt={key:0,class:"flex flex-1 flex-col border rounded"},ft={key:0,class:"flex h-16 items-center justify-center text-base text-ink-gray-5"},gt={key:1,class:"flex flex-1 justify-center items-center text-ink-gray-5 bg-surface-gray-2 rounded"},ht={__name:"SidePanelModal",props:W({doctype:{type:String,default:"CRM Lead"}},{modelValue:{},modelModifiers:{}}),emits:W(["reload"],["update:modelValue"]),setup(d,{emit:b}){const p=d,w=b,h=ge(d,"modelValue"),L=M(p.doctype),k=M(!1),_=M(!1),x=M(!1);M({});function g(){return{doctype:L.value,type:"Side Panel"}}const t=pe({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["SidePanel",L.value],params:g(),onSuccess(C){t.originalData=JSON.parse(JSON.stringify(C))}});me(()=>t==null?void 0:t.data,()=>{_.value=JSON.stringify(t==null?void 0:t.data)!==JSON.stringify(t==null?void 0:t.originalData)},{deep:!0}),ce(()=>he(B,100)());function B(){Z(()=>{t.params=g(),t.reload()})}function m(){let C=JSON.parse(JSON.stringify(t.data));C.forEach(v=>{v.sections.forEach(N=>{N.columns&&N.columns.forEach(D=>{D.fields&&(D.fields=D.fields.map(j=>j.fieldname).filter(Boolean))})})}),k.value=!0,xe("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:L.value,type:"Side Panel",layout:JSON.stringify(C[0].sections)}).then(()=>{k.value=!1,h.value=!1,Ce("side_panel_layout_builder",{doctype:L.value}),w("reload")})}return(C,v)=>{const N=P("Button");return o(),u(a(ke),{modelValue:h.value,"onUpdate:modelValue":v[1]||(v[1]=D=>h.value=D),options:{size:"3xl"}},{"body-title":i(()=>[r("h3",ut,[r("div",null,S(C.__("Edit Field Layout")),1),_.value?(o(),u(a(be),{key:0,label:C.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):f("",!0)])]),"body-content":i(()=>{var D,j;return[r("div",pt,[r("div",mt,[s(N,{label:x.value?C.__("Hide preview"):C.__("Show preview"),onClick:v[0]||(v[0]=l=>x.value=!x.value)},null,8,["label"]),r("div",yt,[s(N,{loading:k.value,label:C.__("Save"),variant:"solid",onClick:m},null,8,["loading","label"]),s(N,{label:C.__("Reset"),onClick:B},null,8,["label"])])]),(j=(D=a(t).data)==null?void 0:D[0])!=null&&j.sections?(o(),c("div",_t,[s(dt,{class:"flex flex-1 flex-col pr-2",sections:a(t).data[0].sections,doctype:L.value},null,8,["sections","doctype"]),x.value?(o(),c("div",vt,[s(Rt,{sections:a(t).data[0].sections,doctype:L.value,docname:"",preview:!0},{default:i(({section:l})=>[l.name=="contacts_section"?(o(),c("div",ft,S(C.__("No contacts added")),1)):f("",!0)]),_:1},8,["sections","doctype"])])):(o(),c("div",gt,S(C.__("Toggle on for preview")),1))])):f("",!0)])]}),_:1},8,["modelValue"])}}};const bt={key:0,class:"sections flex flex-col overflow-y-auto"},kt={key:0,class:"section flex flex-col"},xt={key:0,class:"w-full section-border h-px border-t"},Ct={class:"p-1 sm:p-3"},wt={key:0,class:"field flex items-center gap-2 px-3 leading-5 first:mt-3"},$t={class:"w-[35%] min-w-20 shrink-0 truncate text-sm text-ink-gray-5"},St={key:0,class:"text-ink-red-2"},Vt={class:"flex items-center justify-between w-[65%]"},Lt={class:"grid min-h-[28px] flex-1 items-center overflow-hidden text-base"},Bt={key:0,class:"flex h-7 cursor-pointer items-center px-2 py-1 text-ink-gray-5"},Ft={key:1},Dt={key:0,class:"truncate"},It={key:1,class:"text-base leading-5 text-ink-gray-4 truncate"},Mt={class:"my-2 p-1.5 min-w-40 space-y-1.5 divide-y divide-outline-gray-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},Nt={key:1},Ot={class:"p-1.5 px-7 text-base text-ink-gray-4"},Pt={class:"pt-1.5"},jt={class:"cursor-pointer"},Ut={key:7,class:"form-control"},zt={key:8,class:"form-control"},Et={class:"ml-1"},Tt={__name:"SidePanelLayout",props:{sections:{type:Object},doctype:{type:String,default:"CRM Lead",required:!0},docname:{type:String,required:!0},preview:{type:Boolean,default:!1},addContact:{type:Function}},emits:["reload"],setup(d,{emit:b}){const p=d,{getFormattedPercent:w,getFormattedFloat:h,getFormattedCurrency:L}=Ee(p.doctype),{isManager:k,getUser:_}=Te(),x=b,g=M(!1);let t={doc:{}},B;if(p.docname){let l=Se(p.doctype,p.docname);t=l.document,B=l.triggerOnChange}const m=ue(()=>{var y;if(!((y=p.sections)!=null&&y.length))return[];let l=!1;return p.sections.map(V=>{var I;(I=V.columns)!=null&&I.length&&(V.columns[0].fields=V.columns[0].fields.map(E=>C(E)));let O=N(V,l);return O.showEditButton&&(l=!0),O})});function C(l){l.fieldtype=="Select"&&typeof l.options=="string"&&(l.options=l.options.split(`
`).map(V=>({label:V,value:V})),l.options[0].value!==""&&l.options.unshift({label:"",value:""})),l.fieldtype==="Link"&&l.options==="User"&&(l.options=l.options,l.fieldtype="User");let y={...l,filters:l.link_filters&&JSON.parse(l.link_filters),placeholder:l.placeholder||l.label,display_via_depends_on:le(l.depends_on,t.doc),mandatory_via_depends_on:le(l.mandatory_depends_on,t.doc)};return y.visible=D(y),y}async function v(l,y){p.preview||(t.doc[y.fieldname]=l,await B(y.fieldname),t.save.submit())}function N(l,y){var O;let V=l.name=="contacts_section";return l.showEditButton=!(Ue.value||!k()||V||y),l.visible=V||((O=l.columns)==null?void 0:O[0].fields.filter(I=>I.visible).length),l}function D(l){var y;return p.preview?!0:(l.fieldtype=="Check"||l.read_only&&((y=t.doc)==null?void 0:y[l.fieldname])||!l.read_only)&&(!l.depends_on||l.display_via_depends_on)&&!l.hidden}function j(){return m.value.findIndex(l=>l.visible)}return(l,y)=>{var E;const V=P("Button"),O=P("FeatherIcon"),I=P("FormControl");return o(),c(U,null,[(E=a(t).get)!=null&&E.loading?f("",!0):(o(),c("div",bt,[(o(!0),c(U,null,K(m.value,(F,ye)=>(o(),c(U,{key:F.name},[F.visible?(o(),c("div",kt,[ye!==j()?(o(),c("div",xt)):f("",!0),r("div",Ct,[s(Le,{labelClass:"px-2 font-semibold",headerClass:"h-8",label:F.label,hideLabel:!F.label,opened:F.opened},X({default:i(()=>[Y(l.$slots,"default",ee({ref_for:!0},{section:F}),()=>{var A;return[(A=F.columns)!=null&&A[0].fields.length?(o(),u(Be,{key:0,class:"column flex flex-col gap-1.5 overflow-y-auto"},{default:i(()=>[(o(!0),c(U,null,K(F.columns[0].fields||[],e=>(o(),c(U,{key:e.fieldname},[e.visible?(o(),c("div",wt,[s(a(z),{text:l.__(e.label),hoverDelay:1},{default:i(()=>[r("div",$t,[we(S(l.__(e.label))+" ",1),e.reqd||e.mandatory_depends_on&&e.mandatory_via_depends_on?(o(),c("span",St,"*")):f("",!0)])]),_:2},1032,["text"]),r("div",Vt,[r("div",Lt,[e.read_only&&!["Int","Float","Currency","Percent","Check","Dropdown"].includes(e.fieldtype)?(o(),c("div",Bt,[s(a(z),{text:l.__(e.tooltip)},{default:i(()=>[r("div",null,S(a(t).doc[e.fieldname]),1)]),_:2},1032,["text"])])):e.fieldtype==="Dropdown"?(o(),c("div",Ft,[s(Fe,null,{target:i(({open:n})=>[s(V,{label:a(t).doc[e.fieldname],class:"dropdown-button flex w-full items-center justify-between rounded border border-gray-100 bg-surface-gray-2 px-2 py-1.5 text-base text-ink-gray-8 placeholder-ink-gray-4 transition-colors hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:border-outline-gray-4 focus:bg-surface-white focus:shadow-sm focus:outline-none focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3"},{suffix:i(()=>[s(O,{name:n?"chevron-up":"chevron-down",class:"h-4 text-ink-gray-5"},null,8,["name"])]),default:i(()=>[a(t).doc[e.fieldname]?(o(),c("div",Dt,S(a(t).doc[e.fieldname]),1)):(o(),c("div",It,S(e.placeholder),1))]),_:2},1032,["label"])]),body:i(()=>{var n;return[r("div",Mt,[r("div",null,[(n=e.options)!=null&&n.length?(o(!0),c(U,{key:0},K(e.options,J=>(o(),u(Qe,{key:J.name,option:J},null,8,["option"]))),128)):(o(),c("div",Nt,[r("div",Ot,S(l.__("No {0} Available",[e.label])),1)]))]),r("div",Pt,[s(V,{variant:"ghost",class:"w-full !justify-start",label:l.__("Create New"),onClick:J=>e.create()},{prefix:i(()=>[s(O,{name:"plus",class:"h-4"})]),_:2},1032,["label","onClick"])])])]}),_:2},1024)])):e.fieldtype=="Check"?(o(),u(I,{key:2,class:"form-control",type:"checkbox",modelValue:a(t).doc[e.fieldname],"onUpdate:modelValue":n=>a(t).doc[e.fieldname]=n,onChange:$(n=>v(n.target.checked,e),["stop"]),disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):["Small Text","Text","Long Text","Code"].includes(e.fieldtype)?(o(),u(I,{key:3,class:"form-control",type:"textarea",value:a(t).doc[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:$(n=>v(n.target.value,e),["stop"])},null,8,["value","placeholder","onChange"])):e.fieldtype==="Select"?(o(),u(I,{key:4,class:"form-control cursor-pointer [&_select]:cursor-pointer truncate",type:"select",modelValue:a(t).doc[e.fieldname],"onUpdate:modelValue":n=>a(t).doc[e.fieldname]=n,options:e.options,placeholder:e.placeholder,onChange:$(n=>v(n.target.value,e),["stop"])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","onChange"])):e.fieldtype==="User"?(o(),u(ae,{key:5,class:"form-control",value:a(t).doc[e.fieldname]&&a(_)(a(t).doc[e.fieldname]).full_name,doctype:"User",filters:e.filters,onChange:n=>v(n,e),placeholder:"Select "+e.label+"...",hideMe:!0},X({"item-prefix":i(({option:n})=>[s(ne,{class:"mr-1.5",user:n.value,size:"sm"},null,8,["user"])]),"item-label":i(({option:n})=>[s(a(z),{text:n.value},{default:i(()=>[r("div",jt,S(a(_)(n.value).full_name),1)]),_:2},1032,["text"])]),_:2},[a(t).doc[e.fieldname]?{name:"prefix",fn:i(()=>[s(ne,{class:"mr-1.5",user:a(t).doc[e.fieldname],size:"sm"},null,8,["user"])]),key:"0"}:void 0]),1032,["value","filters","onChange","placeholder"])):["Link","Dynamic Link"].includes(e.fieldtype)?(o(),u(ae,{key:6,class:"form-control select-text",value:a(t).doc[e.fieldname],doctype:e.fieldtype=="Link"?e.options:a(t).doc[e.options],filters:e.filters,placeholder:e.placeholder,onChange:n=>v(n,e),onCreate:e.create},null,8,["value","doctype","filters","placeholder","onChange","onCreate"])):e.fieldtype==="Datetime"?(o(),c("div",Ut,[s(a(ze),{"icon-left":"",value:a(t).doc[e.fieldname],formatter:n=>a(se)(n,"",!0,!0),placeholder:e.placeholder,placement:"left-start",onChange:n=>v(n,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Date"?(o(),c("div",zt,[s(a(Oe),{"icon-left":"",value:a(t).doc[e.fieldname],formatter:n=>a(se)(n,"",!0),placeholder:e.placeholder,placement:"left-start",onChange:n=>v(n,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Percent"?(o(),u(T,{key:9,class:"form-control",type:"text",value:a(w)(e.fieldname,a(t).doc),placeholder:e.placeholder,debounce:500,onChange:$(n=>v(a(G)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Password"?(o(),u(Ve,{key:10,class:"form-control",value:a(t).doc[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:$(n=>v(n.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Int"?(o(),u(T,{key:11,class:"form-control",type:"text",value:a(t).doc[e.fieldname]||"0",placeholder:e.placeholder,debounce:500,onChange:$(n=>v(n.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Float"?(o(),u(T,{key:12,class:"form-control",type:"text",value:a(h)(e.fieldname,a(t).doc),placeholder:e.placeholder,debounce:500,onChange:$(n=>v(a(G)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Currency"?(o(),u(T,{key:13,class:"form-control",type:"text",value:a(L)(e.fieldname,a(t).doc),placeholder:e.placeholder,debounce:500,onChange:$(n=>v(a(G)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):(o(),u(I,{key:14,class:"form-control",type:"text",value:a(t).doc[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:$(n=>v(n.target.value,e),["stop"])},null,8,["value","placeholder","onChange"]))]),r("div",Et,[e.fieldtype==="Link"&&e.link&&a(t).doc[e.fieldname]?(o(),u(Pe,{key:0,class:"h-4 w-4 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:$(n=>e.link(a(t).doc[e.fieldname]),["stop"])},null,8,["onClick"])):f("",!0),e.fieldtype==="Link"&&e.edit&&a(t).doc[e.fieldname]?(o(),u(R,{key:1,class:"size-3.5 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:$(n=>e.edit(a(t).doc[e.fieldname]),["stop"])},null,8,["onClick"])):f("",!0)])])])):f("",!0)],64))),128))]),_:2},1024)):f("",!0)]},!0)]),_:2},[d.preview?void 0:{name:"actions",fn:i(()=>[Y(l.$slots,"actions",ee({ref_for:!0},{section:F}),()=>[F.showEditButton?(o(),u(V,{key:0,variant:"ghost",class:"w-7 mr-2",onClick:y[0]||(y[0]=A=>g.value=!0)},{default:i(()=>[s(R,{class:"h-4 w-4"})]),_:1})):f("",!0)],!0)]),key:"0"}]),1032,["label","hideLabel","opened"])])])):f("",!0)],64))),128))])),g.value?(o(),u(ht,{key:1,modelValue:g.value,"onUpdate:modelValue":y[1]||(y[1]=F=>g.value=F),doctype:d.doctype,onReload:y[2]||(y[2]=()=>x("reload"))},null,8,["modelValue","doctype"])):f("",!0)],64)}}},Rt=ie(Tt,[["__scopeId","data-v-8653618c"]]),{getView:At}=$e();function re(d){return{list:{label:__("List"),icon:q(De)},group_by:{label:__("Group By"),icon:q(Ie)},kanban:{label:__("Kanban"),icon:q(Me)}}[d]}function Xt(d,b,p){let w=b||"list",h=At(d,w,p);return h&&!h.icon&&(h.icon=re(w).icon),h||re(w)}export{Rt as S,Ke as a,Xt as g};
//# sourceMappingURL=view-de8292bb.js.map
