{"version":3,"file":"DesktopLayout-f01a4ea6.js","sources":["../../../../node_modules/frappe-ui/src/components/Spinner.vue","../../../../node_modules/frappe-ui/frappe/Icons/StepsIcon.vue","../../../../node_modules/frappe-ui/frappe/Icons/MinimizeIcon.vue","../../../../node_modules/frappe-ui/frappe/Icons/MaximizeIcon.vue","../../../../node_modules/frappe-ui/frappe/Icons/HelpIcon.vue","../../../../node_modules/frappe-ui/frappe/Onboarding/OnboardingSteps.vue","../../../../node_modules/frappe-ui/frappe/HelpCenter/HelpCenter.vue","../../../../node_modules/frappe-ui/frappe/Help/HelpModal.vue","../../../../node_modules/frappe-ui/frappe/Onboarding/GettingStartedBanner.vue","../../../../node_modules/frappe-ui/frappe/Onboarding/IntermediateStepModal.vue","../../../../node_modules/frappe-ui/frappe/Icons/LightningIcon.vue","../../../../node_modules/frappe-ui/frappe/Billing/TrialBanner.vue","../../../../node_modules/frappe-ui/frappe/Billing/SignupBanner.vue","../../../../frontend/src/components/Icons/InviteIcon.vue","../../../../frontend/src/components/Icons/ConvertIcon.vue","../../../../frontend/src/components/Icons/StepsIcon.vue","../../../../frontend/src/components/Icons/SquareAsterisk.vue","../../../../frontend/src/components/Icons/CollapseSidebar.vue","../../../../frontend/src/components/Icons/HelpIcon.vue","../../../../frontend/src/components/Notifications.vue","../../../../frontend/src/components/Icons/ERPNextIcon.vue","../../../../frontend/src/components/Settings/GeneralSettings.vue","../../../../frontend/src/components/Settings/InviteMemberPage.vue","../../../../frontend/src/components/Settings/ProfileImageEditor.vue","../../../../frontend/src/components/Settings/ProfileSettings.vue","../../../../frontend/src/components/Settings/SettingsPage.vue","../../../../frontend/src/components/Settings/TelephonySettings.vue","../../../../frontend/src/images/gmail.png","../../../../frontend/src/images/outlook.png","../../../../frontend/src/images/sendgrid.png","../../../../frontend/src/images/sparkpost.webp","../../../../frontend/src/images/yahoo.png","../../../../frontend/src/images/yandex.png","../../../../frontend/src/images/frappe-mail.svg","../../../../frontend/src/components/Settings/emailConfig.js","../../../../frontend/src/components/Settings/EmailAdd.vue","../../../../frontend/src/components/Settings/EmailAccountCard.vue","../../../../frontend/src/components/Settings/EmailAccountList.vue","../../../../frontend/src/components/Settings/EmailEdit.vue","../../../../frontend/src/components/Settings/EmailConfig.vue","../../../../frontend/src/components/Settings/Settings.vue","../../../../frontend/src/components/Layouts/AppSidebar.vue","../../../../frontend/src/components/Modals/CreateDocumentModal.vue","../../../../frontend/src/components/Icons/TelegramIcon.vue","../../../../frontend/src/components/Modals/AboutModal.vue","../../../../frontend/src/components/Modals/GlobalModals.vue"],"sourcesContent":["<template>\n  <svg class=\"spinner\" viewBox=\"0 0 50 50\">\n    <defs>\n      <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stop-color=\"rgba(0,110,219,1)\" />\n        <stop offset=\"100%\" stop-color=\"rgba(255,255,255,0)\" />\n      </linearGradient>\n    </defs>\n    <circle\n      stroke=\"url(#gradient)\"\n      class=\"spinner-path\"\n      cx=\"25\"\n      cy=\"25\"\n      r=\"20\"\n      fill=\"none\"\n      stroke-width=\"5\"\n    ></circle>\n  </svg>\n</template>\n<script lang=\"ts\" setup></script>\n<style scoped>\n.spinner {\n  animation: rotate 2s linear infinite;\n}\n.spinner-path {\n  stroke-linecap: round;\n  animation: dash 1.5s ease-in-out infinite;\n}\n\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes dash {\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 120, 150;\n    stroke-dashoffset: -124;\n  }\n}\n</style>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M8 6.5C9.10457 6.5 10 5.60457 10 4.5C10 3.39543 9.10457 2.5 8 2.5C6.89543 2.5 6 3.39543 6 4.5C6 5.60457 6.89543 6.5 8 6.5ZM8 7.5C9.65685 7.5 11 6.15685 11 4.5C11 2.84315 9.65685 1.5 8 1.5C6.34315 1.5 5 2.84315 5 4.5C5 6.15685 6.34315 7.5 8 7.5ZM12 13.5C13.1046 13.5 14 12.6046 14 11.5C14 10.3954 13.1046 9.5 12 9.5C10.8954 9.5 10 10.3954 10 11.5C10 12.6046 10.8954 13.5 12 13.5ZM12 14.5C13.6569 14.5 15 13.1569 15 11.5C15 9.84315 13.6569 8.5 12 8.5C10.3431 8.5 9 9.84315 9 11.5C9 13.1569 10.3431 14.5 12 14.5ZM6 11.5C6 12.6046 5.10457 13.5 4 13.5C2.89543 13.5 2 12.6046 2 11.5C2 10.3954 2.89543 9.5 4 9.5C5.10457 9.5 6 10.3954 6 11.5ZM7 11.5C7 13.1569 5.65685 14.5 4 14.5C2.34315 14.5 1 13.1569 1 11.5C1 9.84315 2.34315 8.5 4 8.5C5.65685 8.5 7 9.84315 7 11.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"feather feather-minimize-2\"\n  >\n    <polyline points=\"4 14 10 14 10 20\" />\n    <polyline points=\"20 10 14 10 14 4\" />\n    <line x1=\"14\" y1=\"10\" x2=\"21\" y2=\"3\" />\n    <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"feather feather-maximize-2\"\n  >\n    <polyline points=\"15 3 21 3 21 9\" />\n    <polyline points=\"9 21 3 21 3 15\" />\n    <line x1=\"21\" y1=\"3\" x2=\"14\" y2=\"10\" />\n    <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.37988 9.37695V9.44531H8.39062V9.37695C8.39062 9.10352 8.41992 8.88542 8.47852 8.72266C8.53711 8.55664 8.62826 8.41504 8.75195 8.29785C8.87891 8.18066 9.04329 8.06185 9.24512 7.94141C9.56087 7.74609 9.8099 7.51009 9.99219 7.2334C10.1745 6.95345 10.2656 6.61328 10.2656 6.21289C10.2656 5.82878 10.1745 5.49186 9.99219 5.20215C9.81315 4.91244 9.56087 4.6862 9.23535 4.52344C8.90983 4.36068 8.52734 4.2793 8.08789 4.2793C7.69401 4.2793 7.33268 4.35579 7.00391 4.50879C6.67513 4.65853 6.41146 4.88151 6.21289 5.17773C6.01432 5.4707 5.90853 5.82878 5.89551 6.25195H6.96973C6.986 6.0013 7.04948 5.79785 7.16016 5.6416C7.27083 5.4821 7.40755 5.36491 7.57031 5.29004C7.73633 5.21517 7.90885 5.17773 8.08789 5.17773C8.28971 5.17773 8.47363 5.22005 8.63965 5.30469C8.80892 5.38932 8.94075 5.50814 9.03516 5.66113C9.13281 5.81413 9.18164 5.99479 9.18164 6.20312C9.18164 6.47005 9.11003 6.69954 8.9668 6.8916C8.82357 7.0804 8.64453 7.23828 8.42969 7.36523C8.21159 7.50195 8.02279 7.64193 7.86328 7.78516C7.70703 7.92513 7.58659 8.11556 7.50195 8.35645C7.42057 8.59408 7.37988 8.93425 7.37988 9.37695ZM7.37988 11.5205C7.51986 11.654 7.69076 11.7207 7.89258 11.7207C8.09766 11.7207 8.26855 11.654 8.40527 11.5205C8.54525 11.3838 8.61523 11.2161 8.61523 11.0176C8.61523 10.8158 8.54525 10.6481 8.40527 10.5146C8.26855 10.3779 8.09766 10.3096 7.89258 10.3096C7.69076 10.3096 7.51986 10.3779 7.37988 10.5146C7.24316 10.6481 7.1748 10.8158 7.1748 11.0176C7.1748 11.2161 7.24316 11.3838 7.37988 11.5205Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex flex-col justify-center items-center gap-1 mt-4 mb-7\">\n    <component :is=\"logo\" class=\"size-10 shrink-0 rounded mb-4\" />\n    <div class=\"text-base font-medium\">\n      {{ 'Welcome to ' + title }}\n    </div>\n    <div class=\"text-p-base font-normal\">\n      {{ `${stepsCompleted}/${totalSteps} steps completed` }}\n    </div>\n  </div>\n  <div class=\"flex flex-col gap-2.5 overflow-hidden\">\n    <div class=\"flex justify-between items-center py-0.5\">\n      <Badge\n        :label=\"`${completedPercentage}% completed`\"\n        :theme=\"completedPercentage == 100 ? 'green' : 'orange'\"\n        size=\"lg\"\n      />\n      <div class=\"flex\">\n        <Button\n          v-if=\"completedPercentage != 0\"\n          variant=\"ghost\"\n          :label=\"'Reset all'\"\n          @click=\"() => resetAll(afterResetAll)\"\n        />\n        <Button\n          v-if=\"completedPercentage != 100\"\n          variant=\"ghost\"\n          :label=\"'Skip all'\"\n          @click=\"() => skipAll(afterSkipAll)\"\n        />\n      </div>\n    </div>\n    <div class=\"flex flex-col gap-1.5 overflow-y-auto\">\n      <div\n        v-for=\"step in steps\"\n        :key=\"step.title\"\n        class=\"group w-full flex gap-2 justify-between items-center hover:bg-surface-gray-1 rounded px-2 py-1.5 cursor-pointer\"\n        @click.stop=\"\n          () => !step.completed && !isDependent(step) && step.onClick()\n        \"\n      >\n        <component\n          :is=\"isDependent(step) ? Tooltip : 'div'\"\n          :text=\"dependsOnTooltip(step)\"\n        >\n          <div\n            class=\"flex gap-2 items-center\"\n            :class=\"[\n              step.completed\n                ? 'text-ink-gray-5'\n                : isDependent(step)\n                  ? 'text-ink-gray-4'\n                  : 'text-ink-gray-8',\n            ]\"\n          >\n            <component :is=\"step.icon\" class=\"h-4\" />\n            <div class=\"text-base\" :class=\"{ 'line-through': step.completed }\">\n              {{ step.title }}\n            </div>\n          </div>\n        </component>\n        <Button\n          v-if=\"!step.completed && !isDependent(step)\"\n          :label=\"'Skip'\"\n          class=\"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex\"\n          @click=\"() => skip(step.name, afterSkip)\"\n        />\n        <Button\n          v-else-if=\"!isDependent(step)\"\n          :label=\"'Reset'\"\n          class=\"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex\"\n          @click.stop=\"() => reset(step.name, afterReset)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useOnboarding } from './onboarding'\nimport Tooltip from '../../src/components/Tooltip/Tooltip.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport Badge from '../../src/components/Badge.vue'\n\nconst props = defineProps({\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n  title: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  logo: {\n    type: Object,\n    required: true,\n  },\n  afterSkip: {\n    type: Function,\n    default: () => {},\n  },\n  afterSkipAll: {\n    type: Function,\n    default: () => {},\n  },\n  afterReset: {\n    type: Function,\n    default: () => {},\n  },\n  afterResetAll: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nfunction isDependent(step) {\n  if (step.dependsOn && !step.completed) {\n    const dependsOnStep = steps.find((s) => s.name === step.dependsOn)\n    if (dependsOnStep && !dependsOnStep.completed) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction dependsOnTooltip(step) {\n  if (step.dependsOn && !step.completed) {\n    const dependsOnStep = steps.find((s) => s.name === step.dependsOn)\n    if (dependsOnStep && !dependsOnStep.completed) {\n      return `You need to complete \"${dependsOnStep.title}\" first.`\n    }\n  }\n  return ''\n}\n\nconst {\n  steps,\n  stepsCompleted,\n  totalSteps,\n  completedPercentage,\n  skip,\n  skipAll,\n  reset,\n  resetAll,\n} = useOnboarding(props.appName)\n</script>\n","<template>\n  <div class=\"flex flex-col gap-2 overflow-hidden\">\n    <div class=\"m-1\">\n      <TextInput\n        ref=\"searchInput\"\n        :placeholder=\"'Search articles...'\"\n        v-model=\"search\"\n        :debounce=\"300\"\n      >\n        <template #prefix>\n          <FeatherIcon name=\"search\" class=\"h-4 text-ink-gray-5\" />\n        </template>\n      </TextInput>\n    </div>\n    <div\n      class=\"flex justify-between items-center text-base text-ink-gray-5 mx-2\"\n    >\n      <div>All articles</div>\n      <Button variant=\"ghost\" @click=\"openDocs\">\n        <FeatherIcon name=\"arrow-up-right\" class=\"h-4 text-ink-gray-5\" />\n      </Button>\n    </div>\n    <div class=\"flex flex-col gap-1.5 overflow-y-auto\">\n      <div\n        v-for=\"a in parsedArticles\"\n        :key=\"a.title\"\n        class=\"flex flex-col gap-1.5\"\n      >\n        <div\n          class=\"flex items-center justify-between p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer\"\n          @click=\"a.opened = !a.opened\"\n        >\n          <div class=\"flex items-center gap-2\">\n            <FeatherIcon\n              :name=\"a.opened ? 'chevron-down' : 'chevron-right'\"\n              class=\"h-4 text-ink-gray-5\"\n            />\n            <div class=\"text-base text-ink-gray-8\">{{ a.title }}</div>\n          </div>\n        </div>\n        <div v-show=\"a.opened\" class=\"flex flex-col gap-1.5 ml-5\">\n          <div\n            v-for=\"subArticle in a.subArticles\"\n            :key=\"subArticle.name\"\n            class=\"group flex items-center justify-between gap-2 p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer\"\n            @click=\"() => openDoc(subArticle.name)\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"file-text\" class=\"h-4 text-ink-gray-5\" />\n              <div class=\"text-base text-ink-gray-8\">\n                {{ subArticle.title }}\n              </div>\n            </div>\n            <FeatherIcon\n              name=\"arrow-up-right\"\n              class=\"h-4 hidden group-hover:flex text-ink-gray-5\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport Button from '../../src/components/Button/Button.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport TextInput from '../../src/components/TextInput.vue'\nimport { ref, computed, onMounted } from 'vue'\n\nconst props = defineProps({\n  docsLink: {\n    type: String,\n    default: 'https://docs.frappe.io/crm',\n  },\n})\n\nconst searchInput = ref(null)\nconst search = ref('')\nconst articles = defineModel()\n\nconst parsedArticles = computed(() => {\n  if (!search.value) return articles.value\n\n  return articles.value.filter((a) => {\n    const filteredSubArticles = a.subArticles.filter((subArticle) => {\n      return subArticle.title.toLowerCase().includes(search.value.toLowerCase())\n    })\n\n    if (\n      a.title.toLowerCase().includes(search.value.toLowerCase()) ||\n      filteredSubArticles.length > 0\n    ) {\n      return {\n        ...a,\n        subArticles: filteredSubArticles,\n      }\n    }\n\n    return false\n  })\n})\n\nfunction openDocs() {\n  window.open(props.docsLink, '_blank')\n}\n\nfunction openDoc(name) {\n  window.open(`${props.docsLink}/${name}`, '_blank')\n}\n\nonMounted(() => {\n  searchInput.value?.el?.focus()\n})\n</script>\n","<template>\n  <div\n    v-show=\"show\"\n    class=\"fixed z-50 right-0 w-80 h-[calc(100%_-_80px)] text-ink-gray-9 m-5 mt-[62px] p-3 flex gap-2 flex-col justify-between rounded-lg bg-surface-modal shadow-2xl\"\n    :class=\"{ 'top-[calc(100%_-_120px)] border': minimize }\"\n    @click.stop\n  >\n    <div class=\"flex items-center justify-between px-2 py-1.5\">\n      <div class=\"text-base font-medium\">\n        {{ headingTitle }}\n      </div>\n      <div class=\"flex gap-1\">\n        <Dropdown v-if=\"options.length\" :options=\"options\">\n          <Button variant=\"ghost\" icon=\"more-horizontal\" />\n        </Dropdown>\n        <Button @click=\"minimize = !minimize\" variant=\"ghost\">\n          <component\n            :is=\"minimize ? MaximizeIcon : MinimizeIcon\"\n            class=\"h-3.5\"\n          />\n        </Button>\n        <Button variant=\"ghost\" @click=\"show = false\">\n          <FeatherIcon name=\"x\" class=\"h-3.5\" />\n        </Button>\n      </div>\n    </div>\n    <div class=\"h-full overflow-hidden flex flex-col\">\n      <OnboardingSteps\n        v-if=\"!isOnboardingStepsCompleted && !showHelpCenter\"\n        :title=\"title\"\n        :logo=\"logo\"\n        :afterSkip=\"afterSkip\"\n        :afterSkipAll=\"afterSkipAll\"\n        :afterReset=\"afterReset\"\n        :afterResetAll=\"afterResetAll\"\n        :appName=\"appName\"\n      />\n      <HelpCenter\n        v-else-if=\"showHelpCenter\"\n        v-model=\"articles\"\n        :docsLink=\"docsLink\"\n      />\n    </div>\n    <div v-for=\"item in footerItems\" class=\"flex flex-col gap-1.5\">\n      <div\n        class=\"w-full flex gap-2 items-center hover:bg-surface-gray-1 text-ink-gray-8 rounded px-2 py-1.5 cursor-pointer\"\n        @click=\"item.onClick\"\n      >\n        <component :is=\"item.icon\" class=\"h-4\" />\n        <div class=\"text-base\">{{ item.label }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport Dropdown from '../../src/components/Dropdown.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport StepsIcon from '../Icons/StepsIcon.vue'\nimport MinimizeIcon from '../Icons/MinimizeIcon.vue'\nimport MaximizeIcon from '../Icons/MaximizeIcon.vue'\nimport HelpIcon from '../Icons/HelpIcon.vue'\nimport OnboardingSteps from '../Onboarding/OnboardingSteps.vue'\nimport HelpCenter from '../HelpCenter/HelpCenter.vue'\nimport { useOnboarding } from '../Onboarding/onboarding'\nimport { showHelpCenter } from '../HelpCenter/helpCenter'\nimport { minimize } from '../Help/help'\nimport { onMounted, computed } from 'vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\n\nconst props = defineProps({\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n  title: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  logo: {\n    type: Object,\n    required: true,\n  },\n  afterSkip: {\n    type: Function,\n    default: () => {},\n  },\n  afterSkipAll: {\n    type: Function,\n    default: () => {},\n  },\n  afterReset: {\n    type: Function,\n    default: () => {},\n  },\n  afterResetAll: {\n    type: Function,\n    default: () => {},\n  },\n  docsLink: {\n    type: String,\n    default: 'https://docs.frappe.io/crm',\n  },\n})\n\nconst { syncStatus, resetAll, isOnboardingStepsCompleted } = useOnboarding(\n  props.appName,\n)\n\nconst show = defineModel()\nconst articles = defineModel('articles')\n\nconst headingTitle = computed(() => {\n  if (!isOnboardingStepsCompleted.value && !showHelpCenter.value) {\n    return 'Getting started'\n  } else if (showHelpCenter.value) {\n    return 'Help center'\n  }\n})\n\nconst options = computed(() => {\n  let items = [\n    {\n      icon: StepsIcon,\n      label: 'Reset onboarding steps',\n      onClick: resetOnboardingSteps,\n      condition: () => showHelpCenter.value && isOnboardingStepsCompleted.value,\n    },\n  ]\n\n  return items.filter((item) => item.condition())\n})\n\nconst footerItems = computed(() => {\n  let items = [\n    {\n      icon: HelpIcon,\n      label: 'Help centre',\n      onClick: () => {\n        syncStatus()\n        showHelpCenter.value = true\n      },\n      condition: !isOnboardingStepsCompleted.value && !showHelpCenter.value,\n    },\n    {\n      icon: StepsIcon,\n      label: 'Getting started',\n      onClick: () => (showHelpCenter.value = false),\n      condition: showHelpCenter.value && !isOnboardingStepsCompleted.value,\n    },\n  ]\n\n  return items.filter((item) => item.condition)\n})\n\nfunction resetOnboardingSteps() {\n  resetAll()\n  isOnboardingStepsCompleted.value = false\n  showHelpCenter.value = false\n}\n\nonMounted(() => {\n  if (isOnboardingStepsCompleted.value) {\n    showHelpCenter.value = true\n  }\n})\n</script>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base\"\n  >\n    <div\n      v-if=\"stepsCompleted != totalSteps\"\n      class=\"inline-flex text-ink-gray-9 gap-2\"\n    >\n      <StepsIcon class=\"h-4 my-0.5 shrink-0\" />\n      <div class=\"flex flex-col text-p-sm gap-0.5\">\n        <div class=\"font-medium\">\n          {{ 'Getting started' }}\n        </div>\n        <div class=\"text-ink-gray-7\">\n          {{ `${stepsCompleted}/${totalSteps} steps` }}\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"flex flex-col gap-1\">\n      <div class=\"flex items-center justify-between gap-1\">\n        <div class=\"flex items-center gap-2 shrink-0\">\n          <StepsIcon class=\"h-4 my-0.5\" />\n          <div class=\"text-ink-gray-9 font-medium\">\n            {{ 'You are all set' }}\n          </div>\n        </div>\n        <FeatherIcon\n          name=\"x\"\n          class=\"h-4 cursor-pointer\"\n          @click=\"\n            () => {\n              showHelpCenter = true\n              isOnboardingStepsCompleted = true\n            }\n          \"\n        />\n      </div>\n      <div class=\"text-p-sm text-ink-gray-7\">\n        {{ 'All steps are completed successfully' }}\n      </div>\n    </div>\n    <Button\n      v-if=\"stepsCompleted != totalSteps\"\n      :label=\"stepsCompleted == 0 ? 'Start now' : 'Continue'\"\n      theme=\"blue\"\n      @click=\"openOnboarding\"\n    >\n      <template #prefix>\n        <FeatherIcon name=\"chevrons-right\" class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else-if=\"stepsCompleted != totalSteps\" @click=\"openOnboarding\">\n    <StepsIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport StepsIcon from '../Icons/StepsIcon.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport { useOnboarding } from './onboarding'\nimport { showHelpCenter } from '../HelpCenter/helpCenter'\nimport { showHelpModal, minimize } from '../Help/help'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n})\n\nconst { stepsCompleted, totalSteps, isOnboardingStepsCompleted } =\n  useOnboarding(props.appName)\n\nconst openOnboarding = () => {\n  minimize.value = false\n  showHelpModal.value = true\n}\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"options\">\n    <template #boday-header>\n      <slot name=\"body-header\"></slot>\n    </template>\n    <template #body-content>\n      <slot>\n        <div class=\"flex flex-col gap-2 text-ink-gray-9 text-base\">\n          <div v-if=\"currentStep.message\">{{ currentStep.message }}</div>\n          <video\n            v-if=\"currentStep.videoURL\"\n            class=\"w-full rounded\"\n            controls\n            autoplay\n            muted\n          >\n            <source :src=\"currentStep.videoURL\" type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        </div>\n      </slot>\n    </template>\n    <template #actions>\n      <slot name=\"actions\"></slot>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport Dialog from '../../src/components/Dialog.vue'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  currentStep: {\n    type: Object,\n    default: {\n      title: 'Title',\n      message: 'Message',\n      videoURL: '',\n      buttonLabel: 'Button Label',\n      onClick: () => {},\n    },\n  },\n  dialogOptions: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst show = defineModel()\n\nconst options = computed(() => {\n  if (props.dialogOptions && Object.keys(props.dialogOptions).length) {\n    return props.dialogOptions\n  }\n\n  return {\n    title: props.currentStep.title,\n    size: '2xl',\n    actions: [\n      {\n        label: props.currentStep.buttonLabel,\n        variant: 'solid',\n        onClick: props.currentStep.onClick,\n      },\n    ],\n  }\n})\n</script>\n","<template>\n  <svg\n    width=\"17\"\n    height=\"16\"\n    viewBox=\"0 0 17 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M6.2641 1C5.5758 1 4.97583 1.46845 4.80889 2.1362L3.57555 7.06953C3.33887 8.01625 4.05491 8.93333 5.03077 8.93333H7.50682L6.72168 14.4293C6.68838 14.6624 6.82229 14.8872 7.04319 14.9689C7.26408 15.0507 7.51204 14.9671 7.63849 14.7684L13.2161 6.00354C13.6398 5.33782 13.1616 4.46667 12.3725 4.46667H9.59038L10.3017 1.62127C10.3391 1.4719 10.3055 1.31365 10.2108 1.19229C10.116 1.07094 9.97063 1 9.81666 1H6.2641ZM5.77903 2.37873C5.83468 2.15615 6.03467 2 6.2641 2H9.17627L8.46492 4.8454C8.42758 4.99477 8.46114 5.15302 8.55589 5.27437C8.65064 5.39573 8.79602 5.46667 8.94999 5.46667H12.3725L8.0395 12.2757L8.5783 8.50404C8.5988 8.36056 8.55602 8.21523 8.46105 8.10573C8.36608 7.99623 8.22827 7.93333 8.08332 7.93333H5.03077C4.70548 7.93333 4.4668 7.62764 4.5457 7.31207L5.77903 2.37873Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed && showBanner\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base\"\n  >\n    <div class=\"flex flex-col gap-1\">\n      <div class=\"inline-flex text-ink-gray-9 gap-2 items-center font-medium\">\n        <FeatherIcon class=\"h-4\" name=\"info\" />\n        {{ trialTitle }}\n      </div>\n      <div class=\"text-ink-gray-7 text-p-sm\">\n        {{ trialMessage }}\n      </div>\n    </div>\n    <Button :label=\"'Upgrade plan'\" theme=\"blue\" @click=\"upgradePlan\">\n      <template #prefix>\n        <LightningIcon class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else-if=\"isSidebarCollapsed && showBanner\" @click=\"upgradePlan\">\n    <LightningIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport LightningIcon from '../Icons/LightningIcon.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport { Button } from '../../src/components/Button'\nimport { createResource } from '../../src/resources'\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  afterUpgrade: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nconst trialEndDays = ref(0)\nconst showBanner = ref(false)\nconst baseEndpoint = ref('https://frappecloud.com')\nconst siteName = ref('')\n\nconst trialTitle = computed(() => {\n  return trialEndDays.value > 1\n    ? 'Trial ends in ' + trialEndDays.value + ' days'\n    : 'Trial ends tomorrow'\n})\n\nconst trialMessage = 'Upgrade to a paid plan for uninterrupted services'\n\ncreateResource({\n  url: 'frappe.integrations.frappe_providers.frappecloud_billing.current_site_info',\n  cache: 'current_site_info_data',\n  auto: true,\n  onSuccess: (data) => {\n    trialEndDays.value = calculateTrialEndDays(data.trial_end_date)\n    baseEndpoint.value = data.base_url\n    siteName.value = data.site_name\n    showBanner.value =\n      data.setup_complete && data.plan.is_trial_plan && trialEndDays.value > 0\n  },\n})\n\nfunction calculateTrialEndDays(trialEndDate) {\n  if (!trialEndDate) return 0\n\n  trialEndDate = new Date(trialEndDate)\n  const today = new Date()\n  const diffTime = trialEndDate - today\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n  return diffDays\n}\n\nfunction upgradePlan() {\n  window.open(\n    `${baseEndpoint.value}/dashboard/sites/${siteName.value}`,\n    '_blank',\n  )\n  props.afterUpgrade?.()\n}\n</script>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-white text-base\"\n  >\n    <div class=\"flex flex-col gap-1\">\n      <slot>\n        <div class=\"inline-flex gap-2 items-center font-medium\">\n          <FeatherIcon class=\"h-4\" name=\"info\" />\n          Loved the demo?\n        </div>\n        <div class=\"text-ink-gray-7 text-p-sm\">\n          {{ `Try ${appName} for free with a 14-day trial.` }}\n        </div>\n      </slot>\n    </div>\n    <Button label=\"Sign up now\" theme=\"blue\" @click=\"signupNow\">\n      <template #prefix>\n        <LightningIcon class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else @click=\"signupNow\">\n    <LightningIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport LightningIcon from '../Icons/LightningIcon.vue'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  appName: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  redirectURL: {\n    type: String,\n    default: 'https://frappecloud.com/crm/signup',\n  },\n  afterSignup: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nfunction signupNow() {\n  window.open(props.redirectURL, '_blank')\n  props.afterSignup?.()\n}\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M13.5 0C13.7761 0 14 0.223858 14 0.5V2H15.5C15.7761 2 16 2.22386 16 2.5C16 2.77614 15.7761 3 15.5 3H14V4.5C14 4.77614 13.7761 5 13.5 5C13.2239 5 13 4.77614 13 4.5V3H11.5C11.2239 3 11 2.77614 11 2.5C11 2.22386 11.2239 2 11.5 2H13V0.5C13 0.223858 13.2239 0 13.5 0ZM7.9998 2C4.6862 2 2 4.6862 2 7.9998C2 9.49431 2.54643 10.8612 3.45041 11.9116C4.18218 10.8499 5.63104 9.51974 7.99595 9.50011L8.0001 9.50008C9.89267 9.50009 11.5613 10.456 12.5506 11.91C13.4537 10.8598 13.9996 9.49355 13.9996 7.9998C13.9996 7.72366 14.2235 7.4998 14.4996 7.4998C14.7757 7.4998 14.9996 7.72366 14.9996 7.9998C14.9996 11.8657 11.8657 14.9996 7.9998 14.9996C4.13392 14.9996 1 11.8657 1 7.9998C1 4.13392 4.13392 1 7.9998 1C8.27594 1 8.4998 1.22386 8.4998 1.5C8.4998 1.77614 8.27594 2 7.9998 2ZM11.8227 12.6242C11.0281 11.3487 9.61378 10.5008 8.00216 10.5001C5.94811 10.518 4.73746 11.7366 4.17676 12.6241C5.21484 13.4833 6.54702 13.9996 7.9998 13.9996C9.45251 13.9996 10.7846 13.4833 11.8227 12.6242ZM8 4.5C7.0335 4.5 6.25 5.2835 6.25 6.25C6.25 7.2165 7.0335 8 8 8C8.9665 8 9.75 7.2165 9.75 6.25C9.75 5.2835 8.9665 4.5 8 4.5ZM5.25 6.25C5.25 4.73122 6.48122 3.5 8 3.5C9.51878 3.5 10.75 4.73122 10.75 6.25C10.75 7.76878 9.51878 9 8 9C6.48122 9 5.25 7.76878 5.25 6.25Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M8.71639 1.68847C7.20728 1.49315 5.6781 1.84427 4.40534 2.67832C3.50159 3.27056 2.7695 4.07854 2.26943 5.02055C2.13995 5.26445 2.23271 5.56714 2.47662 5.69662C2.72052 5.8261 3.02321 5.73334 3.15269 5.48943C3.57431 4.69521 4.19153 4.01402 4.95345 3.51473C6.02649 2.81155 7.31573 2.51553 8.58803 2.6802C9.86034 2.84487 11.0317 3.45936 11.8904 4.41255C12.5455 5.13978 12.9856 6.02752 13.1713 6.97711L12.0682 6.38995C11.8245 6.2602 11.5217 6.35263 11.3919 6.59639C11.2622 6.84015 11.3546 7.14294 11.5984 7.27269L13.8052 8.44735C14.049 8.5771 14.3518 8.48468 14.4815 8.24091L15.6562 6.03407C15.7859 5.79031 15.6935 5.48752 15.4497 5.35777C15.206 5.22802 14.9032 5.32044 14.7734 5.5642L14.1448 6.74523C13.92 5.63395 13.4012 4.59563 12.6334 3.74325C11.6149 2.61265 10.2255 1.88379 8.71639 1.68847ZM7.51332 14.3501C9.0288 14.4875 10.5434 14.0781 11.7833 13.1959C12.5865 12.6244 13.2401 11.8789 13.7005 11.0233C13.8314 10.7801 13.7404 10.4769 13.4972 10.3461C13.254 10.2152 12.9508 10.3062 12.82 10.5494C12.4317 11.2708 11.8807 11.8993 11.2035 12.3811C10.1582 13.1249 8.88128 13.47 7.6036 13.3542C6.32592 13.2384 5.13186 12.6692 4.23732 11.7496C3.50475 10.9965 3.01266 10.0491 2.81428 9.02749L3.95178 9.68895C4.1905 9.82776 4.49655 9.74677 4.63536 9.50805C4.77417 9.26934 4.69318 8.96329 4.45447 8.82448L2.29329 7.56777C2.05458 7.42895 1.74853 7.50994 1.60972 7.74866L0.353003 9.90983C0.214191 10.1485 0.295179 10.4546 0.533896 10.5934C0.772613 10.7322 1.07866 10.6512 1.21747 10.4125L1.85313 9.31938C2.10072 10.4924 2.67584 11.5786 3.52051 12.4469C4.58154 13.5377 5.99784 14.2128 7.51332 14.3501Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M8 6.5C9.10457 6.5 10 5.60457 10 4.5C10 3.39543 9.10457 2.5 8 2.5C6.89543 2.5 6 3.39543 6 4.5C6 5.60457 6.89543 6.5 8 6.5ZM8 7.5C9.65685 7.5 11 6.15685 11 4.5C11 2.84315 9.65685 1.5 8 1.5C6.34315 1.5 5 2.84315 5 4.5C5 6.15685 6.34315 7.5 8 7.5ZM12 13.5C13.1046 13.5 14 12.6046 14 11.5C14 10.3954 13.1046 9.5 12 9.5C10.8954 9.5 10 10.3954 10 11.5C10 12.6046 10.8954 13.5 12 13.5ZM12 14.5C13.6569 14.5 15 13.1569 15 11.5C15 9.84315 13.6569 8.5 12 8.5C10.3431 8.5 9 9.84315 9 11.5C9 13.1569 10.3431 14.5 12 14.5ZM6 11.5C6 12.6046 5.10457 13.5 4 13.5C2.89543 13.5 2 12.6046 2 11.5C2 10.3954 2.89543 9.5 4 9.5C5.10457 9.5 6 10.3954 6 11.5ZM7 11.5C7 13.1569 5.65685 14.5 4 14.5C2.34315 14.5 1 13.1569 1 11.5C1 9.84315 2.34315 8.5 4 8.5C5.65685 8.5 7 9.84315 7 11.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-square-asterisk-icon lucide-square-asterisk\"\n  >\n    <rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" />\n    <path d=\"M12 8v8\" />\n    <path d=\"m8.5 14 7-4\" />\n    <path d=\"m8.5 10 7 4\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"18\"\n    height=\"18\"\n    viewBox=\"0 0 18 18\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.875 9.06223L3 9.06232\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M6.74537 5.31699L3 9.06236L6.74527 12.8076\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M14.1423 4L14.1423 14.125\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.37988 9.37695V9.44531H8.39062V9.37695C8.39062 9.10352 8.41992 8.88542 8.47852 8.72266C8.53711 8.55664 8.62826 8.41504 8.75195 8.29785C8.87891 8.18066 9.04329 8.06185 9.24512 7.94141C9.56087 7.74609 9.8099 7.51009 9.99219 7.2334C10.1745 6.95345 10.2656 6.61328 10.2656 6.21289C10.2656 5.82878 10.1745 5.49186 9.99219 5.20215C9.81315 4.91244 9.56087 4.6862 9.23535 4.52344C8.90983 4.36068 8.52734 4.2793 8.08789 4.2793C7.69401 4.2793 7.33268 4.35579 7.00391 4.50879C6.67513 4.65853 6.41146 4.88151 6.21289 5.17773C6.01432 5.4707 5.90853 5.82878 5.89551 6.25195H6.96973C6.986 6.0013 7.04948 5.79785 7.16016 5.6416C7.27083 5.4821 7.40755 5.36491 7.57031 5.29004C7.73633 5.21517 7.90885 5.17773 8.08789 5.17773C8.28971 5.17773 8.47363 5.22005 8.63965 5.30469C8.80892 5.38932 8.94075 5.50814 9.03516 5.66113C9.13281 5.81413 9.18164 5.99479 9.18164 6.20312C9.18164 6.47005 9.11003 6.69954 8.9668 6.8916C8.82357 7.0804 8.64453 7.23828 8.42969 7.36523C8.21159 7.50195 8.02279 7.64193 7.86328 7.78516C7.70703 7.92513 7.58659 8.11556 7.50195 8.35645C7.42057 8.59408 7.37988 8.93425 7.37988 9.37695ZM7.37988 11.5205C7.51986 11.654 7.69076 11.7207 7.89258 11.7207C8.09766 11.7207 8.26855 11.654 8.40527 11.5205C8.54525 11.3838 8.61523 11.2161 8.61523 11.0176C8.61523 10.8158 8.54525 10.6481 8.40527 10.5146C8.26855 10.3779 8.09766 10.3096 7.89258 10.3096C7.69076 10.3096 7.51986 10.3779 7.37988 10.5146C7.24316 10.6481 7.1748 10.8158 7.1748 11.0176C7.1748 11.2161 7.24316 11.3838 7.37988 11.5205Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div\n    v-if=\"visible\"\n    ref=\"target\"\n    class=\"absolute z-20 h-screen bg-surface-white transition-all duration-300 ease-in-out\"\n    :style=\"{\n      'box-shadow': '8px 0px 8px rgba(0, 0, 0, 0.1)',\n      'max-width': '350px',\n      'min-width': '350px',\n      left: 'calc(100% + 1px)',\n    }\"\n  >\n    <div class=\"flex h-screen flex-col text-ink-gray-9\">\n      <div\n        class=\"z-20 flex items-center justify-between border-b bg-surface-white px-5 py-2.5\"\n      >\n        <div class=\"text-base font-medium\">{{ __('Notifications') }}</div>\n        <div class=\"flex gap-1\">\n          <Tooltip :text=\"__('Mark all as read')\">\n            <div>\n              <Button variant=\"ghost\" @click=\"() => markAllAsRead()\">\n                <template #icon>\n                  <MarkAsDoneIcon class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </div>\n          </Tooltip>\n          <Tooltip :text=\"__('Close')\">\n            <div>\n              <Button variant=\"ghost\" @click=\"() => toggle()\">\n                <template #icon>\n                  <FeatherIcon name=\"x\" class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </div>\n          </Tooltip>\n        </div>\n      </div>\n      <div\n        v-if=\"notifications.data?.length\"\n        class=\"divide-y divide-outline-gray-modals overflow-auto text-base\"\n      >\n        <RouterLink\n          v-for=\"n in notifications.data\"\n          :key=\"n.comment\"\n          :to=\"getRoute(n)\"\n          class=\"flex cursor-pointer items-start gap-2.5 px-4 py-2.5 hover:bg-surface-gray-2\"\n          @click=\"markAsRead(n.comment || n.notification_type_doc)\"\n        >\n          <div class=\"mt-1 flex items-center gap-2.5\">\n            <div\n              class=\"size-[5px] rounded-full\"\n              :class=\"[n.read ? 'bg-transparent' : 'bg-surface-gray-7']\"\n            />\n            <WhatsAppIcon v-if=\"n.type == 'WhatsApp'\" class=\"size-7\" />\n            <UserAvatar v-else :user=\"n.from_user.name\" size=\"lg\" />\n          </div>\n          <div>\n            <div v-if=\"n.notification_text\" v-html=\"n.notification_text\" />\n            <div v-else class=\"mb-2 space-x-1 leading-5 text-ink-gray-5\">\n              <span class=\"font-medium text-ink-gray-9\">\n                {{ n.from_user.full_name }}\n              </span>\n              <span>\n                {{ __('mentioned you in {0}', [n.reference_doctype]) }}\n              </span>\n              <span class=\"font-medium text-ink-gray-9\">\n                {{ n.reference_name }}\n              </span>\n            </div>\n            <div class=\"text-sm text-ink-gray-5\">\n              {{ __(timeAgo(n.creation)) }}\n            </div>\n          </div>\n        </RouterLink>\n      </div>\n      <div\n        v-else\n        class=\"flex flex-1 flex-col items-center justify-center gap-2\"\n      >\n        <NotificationsIcon class=\"h-20 w-20 text-ink-gray-2\" />\n        <div class=\"text-lg font-medium text-ink-gray-4\">\n          {{ __('No new notifications') }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport WhatsAppIcon from '@/components/Icons/WhatsAppIcon.vue'\nimport MarkAsDoneIcon from '@/components/Icons/MarkAsDoneIcon.vue'\nimport NotificationsIcon from '@/components/Icons/NotificationsIcon.vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport {\n  visible,\n  notifications,\n  notificationsStore,\n} from '@/stores/notifications'\nimport { globalStore } from '@/stores/global'\nimport { timeAgo } from '@/utils'\nimport { onClickOutside } from '@vueuse/core'\nimport { capture } from '@/telemetry'\nimport { Tooltip } from 'frappe-ui'\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\n\nconst { $socket } = globalStore()\nconst { mark_as_read, toggle, mark_doc_as_read } = notificationsStore()\n\nconst target = ref(null)\nonClickOutside(\n  target,\n  () => {\n    if (visible.value) toggle()\n  },\n  {\n    ignore: ['#notifications-btn'],\n  },\n)\n\nfunction markAsRead(doc) {\n  capture('notification_mark_as_read')\n  mark_doc_as_read(doc)\n}\n\nfunction markAllAsRead() {\n  capture('notification_mark_all_as_read')\n  mark_as_read.reload()\n}\n\nonBeforeUnmount(() => {\n  $socket.off('crm_notification')\n})\n\nonMounted(() => {\n  $socket.on('crm_notification', () => {\n    notifications.reload()\n  })\n})\n\nfunction getRoute(notification) {\n  let params = {\n    leadId: notification.reference_name,\n  }\n  if (notification.route_name === 'Deal') {\n    params = {\n      dealId: notification.reference_name,\n    }\n  }\n\n  return {\n    name: notification.route_name,\n    params: params,\n    hash: notification.hash,\n  }\n}\n</script>\n","<template>\n    <svg\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M1 5C1 2.79086 2.79086 1 5 1H13C15.2091 1 17 2.79086 17 5V13C17 15.2091 15.2091 17 13 17H5C2.79086 17 1 15.2091 1 13V5Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M11.7819 6.27142H11.5136H8.02453H6.28001V4.84002H11.7819V6.27142ZM8.02451 9.62623V11.5944H11.8267V13.0258H6.27999V8.19484H8.02451H11.5135V9.62623H8.02451Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  </template>","<template>\n  <div class=\"flex h-full flex-col gap-8 p-8 text-ink-gray-9\">\n    <h2 class=\"flex gap-2 text-xl font-semibold leading-none h-5\">\n      {{ __('General') }}\n      <Badge\n        v-if=\"settings.isDirty\"\n        :label=\"__('Not Saved')\"\n        variant=\"subtle\"\n        theme=\"orange\"\n      />\n    </h2>\n\n    <div v-if=\"settings.doc\" class=\"flex-1 flex flex-col gap-8 overflow-y-auto\">\n      <div class=\"flex w-full\">\n        <FormControl\n          type=\"text\"\n          class=\"w-1/2\"\n          v-model=\"settings.doc.brand_name\"\n          :label=\"__('Brand Name')\"\n        />\n      </div>\n\n      <!-- logo -->\n\n      <div class=\"flex flex-col justify-between gap-4\">\n        <span class=\"text-base font-semibold text-ink-gray-9\">\n          {{ __('Logo') }}\n        </span>\n        <div class=\"flex flex-1 gap-5\">\n          <div\n            class=\"flex items-center justify-center rounded border border-outline-gray-modals px-10 py-2\"\n          >\n            <img\n              :src=\"settings.doc?.brand_logo || '/assets/crm/images/logo.png'\"\n              alt=\"Logo\"\n              class=\"size-8 rounded\"\n            />\n          </div>\n          <div class=\"flex flex-1 flex-col gap-2\">\n            <ImageUploader\n              label=\"Favicon\"\n              image_type=\"image/ico\"\n              :image_url=\"settings.doc?.brand_logo\"\n              @upload=\"(url) => (settings.doc.brand_logo = url)\"\n              @remove=\"() => (settings.doc.brand_logo = '')\"\n            />\n            <span class=\"text-p-sm text-ink-gray-6\">\n              {{\n                __(\n                  'Appears in the left sidebar. Recommended size is 32x32 px in PNG or SVG',\n                )\n              }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- favicon -->\n\n      <div class=\"flex flex-col justify-between gap-4\">\n        <span class=\"text-base font-semibold text-ink-gray-9\">\n          {{ __('Favicon') }}\n        </span>\n        <div class=\"flex flex-1 gap-5\">\n          <div\n            class=\"flex items-center justify-center rounded border border-outline-gray-modals px-10 py-2\"\n          >\n            <img\n              :src=\"settings.doc?.favicon || '/assets/crm/images/logo.png'\"\n              alt=\"Favicon\"\n              class=\"size-8 rounded\"\n            />\n          </div>\n          <div class=\"flex flex-1 flex-col gap-2\">\n            <ImageUploader\n              label=\"Favicon\"\n              image_type=\"image/ico\"\n              :image_url=\"settings.doc?.favicon\"\n              @upload=\"(url) => (settings.doc.favicon = url)\"\n              @remove=\"() => (settings.doc.favicon = '')\"\n            />\n            <span class=\"text-p-sm text-ink-gray-6\">\n              {{\n                __(\n                  'Appears next to the title in your browser tab. Recommended size is 32x32 px in PNG or ICO',\n                )\n              }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Home actions -->\n\n      <div class=\"flex flex-col justify-between gap-4\">\n        <span class=\"text-base font-semibold text-ink-gray-9\">\n          {{ __('Home actions') }}\n        </span>\n        <div class=\"flex flex-1\">\n          <Grid\n            v-model=\"settings.doc.dropdown_items\"\n            doctype=\"CRM Dropdown Item\"\n            parentDoctype=\"FCRM Settings\"\n            parentFieldname=\"dropdown_items\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex justify-between flex-row-reverse\">\n      <Button\n        variant=\"solid\"\n        :label=\"__('Update')\"\n        :disabled=\"!settings.isDirty\"\n        @click=\"updateSettings\"\n      />\n      <ErrorMessage :message=\"settings.save.error\" />\n    </div>\n  </div>\n</template>\n<script setup>\nimport ImageUploader from '@/components/Controls/ImageUploader.vue'\nimport Grid from '@/components/Controls/Grid.vue'\nimport { FormControl, Badge, ErrorMessage } from 'frappe-ui'\nimport { getSettings } from '@/stores/settings'\nimport { showSettings } from '@/composables/settings'\n\nconst { _settings: settings, setupBrand } = getSettings()\n\nfunction updateSettings() {\n  settings.save.submit(null, {\n    onSuccess: () => {\n      showSettings.value = false\n      setupBrand()\n    },\n  })\n}\n</script>\n","<template>\n  <div class=\"flex h-full flex-col gap-8 p-8 text-ink-gray-9\">\n    <h2 class=\"flex gap-2 text-xl font-semibold leading-none h-5\">\n      {{ __('Send Invites To') }}\n    </h2>\n    <div class=\"flex-1 flex flex-col gap-8 overflow-y-auto\">\n      <div>\n        <label class=\"block text-xs text-ink-gray-5 mb-1.5\">\n          {{ __('Invite by email') }}\n        </label>\n        <div\n          class=\"p-2 group bg-surface-gray-2 hover:bg-surface-gray-3 rounded\"\n        >\n          <MultiSelectEmailInput\n            class=\"flex-1\"\n            inputClass=\"!bg-surface-gray-2 hover:!bg-surface-gray-3 group-hover:!bg-surface-gray-3\"\n            :placeholder=\"__('john@doe.com')\"\n            v-model=\"invitees\"\n            :validate=\"validateEmail\"\n            :error-message=\"\n              (value) => __('{0} is an invalid email address', [value])\n            \"\n            :fetchContacts=\"false\"\n          />\n        </div>\n        <FormControl\n          type=\"select\"\n          class=\"mt-4\"\n          v-model=\"role\"\n          :label=\"__('Invite as')\"\n          :options=\"[\n            { label: __('Regular Access'), value: 'Sales User' },\n            { label: __('Manager Access'), value: 'Sales Manager' },\n          ]\"\n          :description=\"description\"\n        />\n      </div>\n      <template v-if=\"pendingInvitations.data?.length && !invitees.length\">\n        <div class=\"flex flex-col gap-4\">\n          <div\n            class=\"flex items-center justify-between text-base font-semibold\"\n          >\n            <div>{{ __('Pending Invites') }}</div>\n          </div>\n          <ul class=\"flex flex-col gap-1\">\n            <li\n              class=\"flex items-center justify-between px-2 py-1 rounded-lg bg-surface-gray-2\"\n              v-for=\"user in pendingInvitations.data\"\n              :key=\"user.name\"\n            >\n              <div class=\"text-base\">\n                <span class=\"text-ink-gray-9\">\n                  {{ user.email }}\n                </span>\n                <span class=\"text-ink-gray-5\">\n                  ({{ roleMap[user.role] }})\n                </span>\n              </div>\n              <div>\n                <Tooltip text=\"Delete Invitation\">\n                  <div>\n                    <Button\n                      icon=\"x\"\n                      variant=\"ghost\"\n                      :loading=\"\n                        pendingInvitations.delete.loading &&\n                        pendingInvitations.delete.params.name === user.name\n                      \"\n                      @click=\"pendingInvitations.delete.submit(user.name)\"\n                    />\n                  </div>\n                </Tooltip>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </template>\n    </div>\n    <div class=\"flex justify-between items-center gap-2\">\n      <div><ErrorMessage v-if=\"error\" :message=\"error\" /></div>\n      <Button\n        :label=\"__('Send Invites')\"\n        variant=\"solid\"\n        :disabled=\"!invitees.length\"\n        @click=\"inviteByEmail.submit()\"\n        :loading=\"inviteByEmail.loading\"\n      />\n    </div>\n  </div>\n</template>\n<script setup>\nimport MultiSelectEmailInput from '@/components/Controls/MultiSelectEmailInput.vue'\nimport { validateEmail, convertArrayToString } from '@/utils'\nimport {\n  createListResource,\n  createResource,\n  FormControl,\n  Tooltip,\n} from 'frappe-ui'\nimport { useOnboarding } from 'frappe-ui/frappe'\nimport { ref, computed } from 'vue'\n\nconst { updateOnboardingStep } = useOnboarding('frappecrm')\n\nconst invitees = ref([])\nconst role = ref('Sales User')\nconst error = ref(null)\n\nconst description = computed(() => {\n  return {\n    'Sales Manager':\n      'Can manage and invite new members, and create public & private views (reports).',\n    'Sales User':\n      'Can work with leads and deals and create private views (reports).',\n  }[role.value]\n})\n\nconst roleMap = {\n  'Sales User': __('Regular Access'),\n  'Sales Manager': __('Manager Access'),\n}\n\nconst inviteByEmail = createResource({\n  url: 'crm.api.invite_by_email',\n  makeParams() {\n    return {\n      emails: convertArrayToString(invitees.value),\n      role: role.value,\n    }\n  },\n  onSuccess(data) {\n    if (data?.existing_invites?.length) {\n      error.value = __('Agent with email {0} already exists', [\n        data.existing_invites.join(', '),\n      ])\n    } else {\n      role.value = 'Sales User'\n      error.value = null\n    }\n\n    invitees.value = []\n    pendingInvitations.reload()\n    updateOnboardingStep('invite_your_team')\n  },\n  onError(err) {\n    error.value = err?.messages?.[0]\n  },\n})\n\nconst pendingInvitations = createListResource({\n  type: 'list',\n  doctype: 'CRM Invitation',\n  filters: { status: 'Pending' },\n  fields: ['name', 'email', 'role'],\n  auto: true,\n})\n</script>\n","<template>\n  <FileUploader\n    @success=\"(file) => setUserImage(file.file_url)\"\n    :validateFile=\"validateFile\"\n  >\n    <template v-slot=\"{ file, progress, error, uploading, openFileSelector }\">\n      <div class=\"flex flex-col items-center\">\n        <button\n          class=\"group relative rounded-full border-2\"\n          @click=\"openFileSelector\"\n        >\n          <div\n            class=\"absolute inset-0 grid place-items-center rounded-full bg-gray-400/20 text-base text-ink-gray-5 transition-opacity\"\n            :class=\"[\n              uploading ? 'opacity-100' : 'opacity-0 group-hover:opacity-100',\n              'drop-shadow-sm',\n            ]\"\n          >\n            <span\n              class=\"inline-block rounded-md bg-surface-gray-7/60 px-2 py-1 text-ink-white\"\n            >\n              {{\n                uploading\n                  ? `Uploading ${progress}%`\n                  : profile.user_image\n                  ? 'Change Image'\n                  : 'Upload Image'\n              }}\n            </span>\n          </div>\n          <img\n            v-if=\"profile.user_image\"\n            class=\"h-64 w-64 rounded-full object-cover\"\n            :src=\"profile.user_image\"\n            alt=\"Profile Photo\"\n          />\n          <div v-else class=\"h-64 w-64 rounded-full bg-surface-gray-2\"></div>\n        </button>\n        <ErrorMessage class=\"mt-4\" :message=\"error\" />\n        <div class=\"mt-4 flex items-center gap-4\">\n          <Button v-if=\"profile.user_image\" @click=\"setUserImage(null)\">\n            Remove\n          </Button>\n        </div>\n      </div>\n    </template>\n  </FileUploader>\n</template>\n<script setup>\nimport { FileUploader } from 'frappe-ui'\n\nconst profile = defineModel()\n\nfunction setUserImage(url) {\n  profile.value.user_image = url\n}\n\nfunction validateFile(file) {\n  let extn = file.name.split('.').pop().toLowerCase()\n  if (!['png', 'jpg'].includes(extn)) {\n    return 'Only PNG and JPG images are allowed'\n  }\n}\n</script>\n","<template>\n  <div class=\"flex h-full flex-col gap-8 p-8 text-ink-gray-9\">\n    <div class=\"flex-1 flex flex-col gap-8 mt-2 overflow-y-auto\">\n      <div v-if=\"profile\" class=\"flex w-full items-center justify-between\">\n        <div class=\"flex items-center gap-4\">\n          <Avatar\n            class=\"!size-16\"\n            :image=\"profile.user_image\"\n            :label=\"profile.full_name\"\n          />\n          <div class=\"flex flex-col gap-1\">\n            <span class=\"text-2xl font-semibold text-ink-gray-9\">{{\n              profile.full_name\n            }}</span>\n            <span class=\"text-base text-ink-gray-7\">{{ profile.email }}</span>\n          </div>\n        </div>\n        <Button\n          :label=\"__('Edit profile photo')\"\n          @click=\"showEditProfilePhotoModal = true\"\n        />\n        <Dialog\n          :options=\"{ title: __('Edit profile photo') }\"\n          v-model=\"showEditProfilePhotoModal\"\n        >\n          <template #body-content>\n            <ProfileImageEditor v-model=\"profile\" />\n          </template>\n          <template #actions>\n            <Button\n              variant=\"solid\"\n              class=\"w-full\"\n              :loading=\"loading\"\n              @click=\"updateUser\"\n              :label=\"__('Save')\"\n            />\n          </template>\n        </Dialog>\n      </div>\n      <div class=\"flex flex-col gap-4\">\n        <div class=\"flex justify-between gap-4\">\n          <FormControl\n            class=\"w-full\"\n            label=\"First name\"\n            v-model=\"profile.first_name\"\n          />\n          <FormControl\n            class=\"w-full\"\n            label=\"Last name\"\n            v-model=\"profile.last_name\"\n          />\n        </div>\n        <div class=\"flex justify-between gap-4\">\n          <FormControl\n            class=\"w-full\"\n            label=\"Email\"\n            v-model=\"profile.email\"\n            :disabled=\"true\"\n          />\n          <Password\n            class=\"w-full\"\n            label=\"Set new password\"\n            v-model=\"profile.new_password\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"flex justify-between flex-row-reverse\">\n      <Button\n        variant=\"solid\"\n        :label=\"__('Update')\"\n        :loading=\"loading\"\n        @click=\"updateUser\"\n      />\n      <ErrorMessage :message=\"error\" />\n    </div>\n  </div>\n</template>\n<script setup>\nimport Password from '@/components/Controls/Password.vue'\nimport ProfileImageEditor from '@/components/Settings/ProfileImageEditor.vue'\nimport { usersStore } from '@/stores/users'\nimport { Dialog, Avatar, createResource, ErrorMessage, toast } from 'frappe-ui'\nimport { useOnboarding } from 'frappe-ui/frappe'\nimport { ref, computed, onMounted } from 'vue'\n\nconst { getUser, users } = usersStore()\nconst { updateOnboardingStep } = useOnboarding('frappecrm')\n\nconst user = computed(() => getUser() || {})\n\nconst showEditProfilePhotoModal = ref(false)\n\nconst profile = ref({})\nconst loading = ref(false)\nconst error = ref('')\n\nfunction updateUser() {\n  loading.value = true\n\n  let passwordUpdated = false\n\n  if (profile.value.new_password) {\n    passwordUpdated = true\n  }\n\n  const fieldname = {\n    first_name: profile.value.first_name,\n    last_name: profile.value.last_name,\n    user_image: profile.value.user_image,\n    email: profile.value.email,\n    new_password: profile.value.new_password,\n  }\n  createResource({\n    url: 'frappe.client.set_value',\n    params: {\n      doctype: 'User',\n      name: user.value.name,\n      fieldname,\n    },\n    auto: true,\n    onSuccess: () => {\n      if (passwordUpdated) {\n        updateOnboardingStep('setup_your_password')\n      }\n      loading.value = false\n      error.value = ''\n      profile.value.new_password = ''\n      showEditProfilePhotoModal.value = false\n      toast.success(__('Profile updated successfully'))\n      users.reload()\n    },\n    onError: (err) => {\n      loading.value = false\n      error.value = err.message\n    },\n  })\n}\n\nonMounted(() => {\n  profile.value = { ...user.value }\n})\n</script>\n","<template>\n  <div class=\"flex h-full flex-col gap-8\">\n    <h2\n      class=\"flex gap-2 text-xl font-semibold leading-none h-5 text-ink-gray-9\"\n    >\n      <div>{{ title || __(doctype) }}</div>\n      <Badge\n        v-if=\"data.isDirty\"\n        :label=\"__('Not Saved')\"\n        variant=\"subtle\"\n        theme=\"orange\"\n      />\n    </h2>\n    <div v-if=\"!data.get.loading\" class=\"flex-1 overflow-y-auto\">\n      <FieldLayout\n        v-if=\"data?.doc && tabs\"\n        :tabs=\"tabs\"\n        :data=\"data.doc\"\n        :doctype=\"doctype\"\n      />\n    </div>\n    <div v-else class=\"flex flex-1 items-center justify-center\">\n      <Spinner class=\"size-8\" />\n    </div>\n    <div class=\"flex justify-between gap-2\">\n      <div>\n        <ErrorMessage class=\"mt-2\" :message=\"data.save.error\" />\n      </div>\n      <Button\n        :loading=\"data.save.loading\"\n        :label=\"__('Update')\"\n        variant=\"solid\"\n        @click=\"data.save.submit()\"\n      />\n    </div>\n  </div>\n</template>\n<script setup>\nimport FieldLayout from '@/components/FieldLayout/FieldLayout.vue'\nimport {\n  createDocumentResource,\n  createResource,\n  Spinner,\n  Badge,\n  toast,\n  ErrorMessage,\n} from 'frappe-ui'\nimport { getRandom } from '@/utils'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    required: true,\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  successMessage: {\n    type: String,\n    default: 'Updated Successfully',\n  },\n})\n\nconst fields = createResource({\n  url: 'crm.api.doc.get_fields',\n  cache: ['fields', props.doctype],\n  params: {\n    doctype: props.doctype,\n    allow_all_fieldtypes: true,\n  },\n  auto: true,\n})\n\nconst data = createDocumentResource({\n  doctype: props.doctype,\n  name: props.doctype,\n  fields: ['*'],\n  auto: true,\n  setValue: {\n    onSuccess: () => {\n      toast.success(__(props.successMessage))\n    },\n    onError: (err) => {\n      toast.error(err.message + ': ' + err.messages[0])\n    },\n  },\n})\n\nconst tabs = computed(() => {\n  if (!fields.data) return []\n  let _tabs = []\n  let fieldsData = fields.data\n\n  if (fieldsData[0].type != 'Tab Break') {\n    let _sections = []\n    if (fieldsData[0].type != 'Section Break') {\n      _sections.push({\n        name: 'first_section',\n        columns: [{ name: 'first_column', fields: [] }],\n      })\n    }\n    _tabs.push({ name: 'first_tab', sections: _sections })\n  }\n\n  fieldsData.forEach((field) => {\n    let last_tab = _tabs[_tabs.length - 1]\n    let _sections = _tabs.length ? last_tab.sections : []\n    if (field.fieldtype === 'Tab Break') {\n      _tabs.push({\n        label: field.label,\n        name: field.fieldname,\n        sections: [\n          {\n            name: 'section_' + getRandom(),\n            columns: [{ name: 'column_' + getRandom(), fields: [] }],\n          },\n        ],\n      })\n    } else if (field.fieldtype === 'Section Break') {\n      _sections.push({\n        label: field.label,\n        name: field.fieldname,\n        hideBorder: field.hide_border,\n        columns: [{ name: 'column_' + getRandom(), fields: [] }],\n      })\n    } else if (field.fieldtype === 'Column Break') {\n      _sections[_sections.length - 1].columns.push({\n        name: field.fieldname,\n        fields: [],\n      })\n    } else {\n      let last_section = _sections[_sections.length - 1]\n      let last_column = last_section.columns[last_section.columns.length - 1]\n      last_column.fields.push(field)\n    }\n  })\n\n  return _tabs\n})\n</script>\n","<template>\n  <div class=\"flex h-full flex-col gap-8 p-8\">\n    <h2\n      class=\"flex gap-2 text-xl font-semibold leading-none h-5 text-ink-gray-9\"\n    >\n      <div>{{ __('Telephony Settings') }}</div>\n      <Badge\n        v-if=\"twilio.isDirty || exotel.isDirty || mediumChanged\"\n        :label=\"__('Not Saved')\"\n        variant=\"subtle\"\n        theme=\"orange\"\n      />\n    </h2>\n    <div\n      v-if=\"!twilio.get.loading || !exotel.get.loading\"\n      class=\"flex-1 flex flex-col gap-8 overflow-y-auto\"\n    >\n      <!-- General -->\n      <FormControl\n        type=\"select\"\n        v-model=\"defaultCallingMedium\"\n        :label=\"__('Default medium')\"\n        :options=\"[\n          { label: __(''), value: '' },\n          { label: __('Twilio'), value: 'Twilio' },\n          { label: __('Exotel'), value: 'Exotel' },\n        ]\"\n        class=\"w-1/2\"\n        :description=\"__('Default calling medium for logged in user')\"\n      />\n\n      <!-- Twilio -->\n      <div v-if=\"isManager()\" class=\"flex flex-col justify-between gap-4\">\n        <span class=\"text-base font-semibold text-ink-gray-9\">\n          {{ __('Twilio') }}\n        </span>\n        <FieldLayout\n          v-if=\"twilio?.doc && twilioTabs\"\n          :tabs=\"twilioTabs\"\n          :data=\"twilio.doc\"\n          doctype=\"CRM Twilio Settings\"\n        />\n      </div>\n\n      <!-- Exotel -->\n      <div v-if=\"isManager()\" class=\"flex flex-col justify-between gap-4\">\n        <span class=\"text-base font-semibold text-ink-gray-9\">\n          {{ __('Exotel') }}\n        </span>\n        <FieldLayout\n          v-if=\"exotel?.doc && exotelTabs\"\n          :tabs=\"exotelTabs\"\n          :data=\"exotel.doc\"\n          doctype=\"CRM Exotel Settings\"\n        />\n      </div>\n    </div>\n    <div v-else class=\"flex flex-1 items-center justify-center\">\n      <Spinner class=\"size-8\" />\n    </div>\n    <div class=\"flex justify-between gap-2\">\n      <div>\n        <ErrorMessage\n          class=\"mt-2\"\n          :message=\"twilio.save.error || exotel.save.error || error\"\n        />\n      </div>\n      <Button\n        :loading=\"twilio.save.loading || exotel.save.loading\"\n        :label=\"__('Update')\"\n        variant=\"solid\"\n        @click=\"update\"\n      />\n    </div>\n  </div>\n</template>\n<script setup>\nimport FieldLayout from '@/components/FieldLayout/FieldLayout.vue'\nimport {\n  createDocumentResource,\n  createResource,\n  FormControl,\n  Spinner,\n  Badge,\n  ErrorMessage,\n  call,\n} from 'frappe-ui'\nimport { defaultCallingMedium } from '@/composables/settings'\nimport { usersStore } from '@/stores/users'\nimport { toast } from 'frappe-ui'\nimport { getRandom } from '@/utils'\nimport { ref, computed, watch } from 'vue'\n\nconst { isManager, isAgent } = usersStore()\n\nconst twilioFields = createResource({\n  url: 'crm.api.doc.get_fields',\n  cache: ['fields', 'CRM Twilio Settings'],\n  params: {\n    doctype: 'CRM Twilio Settings',\n    allow_all_fieldtypes: true,\n  },\n  auto: true,\n})\n\nconst exotelFields = createResource({\n  url: 'crm.api.doc.get_fields',\n  cache: ['fields', 'CRM Exotel Settings'],\n  params: {\n    doctype: 'CRM Exotel Settings',\n    allow_all_fieldtypes: true,\n  },\n  auto: true,\n})\n\nconst twilio = createDocumentResource({\n  doctype: 'CRM Twilio Settings',\n  name: 'CRM Twilio Settings',\n  fields: ['*'],\n  auto: true,\n  setValue: {\n    onSuccess: () => {\n      toast.success(__('Twilio settings updated successfully'))\n    },\n    onError: (err) => {\n      toast.error(err.message + ': ' + err.messages[0])\n    },\n  },\n})\n\nconst exotel = createDocumentResource({\n  doctype: 'CRM Exotel Settings',\n  name: 'CRM Exotel Settings',\n  fields: ['*'],\n  auto: true,\n  setValue: {\n    onSuccess: () => {\n      toast.success(__('Exotel settings updated successfully'))\n    },\n    onError: (err) => {\n      toast.error(err.message + ': ' + err.messages[0])\n    },\n  },\n})\n\nconst twilioTabs = computed(() => {\n  if (!twilioFields.data) return []\n  let _tabs = []\n  let fieldsData = twilioFields.data\n\n  if (fieldsData[0].type != 'Tab Break') {\n    let _sections = []\n    if (fieldsData[0].type != 'Section Break') {\n      _sections.push({\n        name: 'first_section',\n        columns: [{ name: 'first_column', fields: [] }],\n      })\n    }\n    _tabs.push({ name: 'first_tab', sections: _sections })\n  }\n\n  fieldsData.forEach((field) => {\n    let last_tab = _tabs[_tabs.length - 1]\n    let _sections = _tabs.length ? last_tab.sections : []\n    if (field.fieldtype === 'Tab Break') {\n      _tabs.push({\n        label: field.label,\n        name: field.fieldname,\n        sections: [\n          {\n            name: 'section_' + getRandom(),\n            columns: [{ name: 'column_' + getRandom(), fields: [] }],\n          },\n        ],\n      })\n    } else if (field.fieldtype === 'Section Break') {\n      _sections.push({\n        label: field.label,\n        name: field.fieldname,\n        hideBorder: field.hide_border,\n        columns: [{ name: 'column_' + getRandom(), fields: [] }],\n      })\n    } else if (field.fieldtype === 'Column Break') {\n      _sections[_sections.length - 1].columns.push({\n        name: field.fieldname,\n        fields: [],\n      })\n    } else {\n      let last_section = _sections[_sections.length - 1]\n      let last_column = last_section.columns[last_section.columns.length - 1]\n      last_column.fields.push(field)\n    }\n  })\n\n  return _tabs\n})\n\nconst exotelTabs = computed(() => {\n  if (!exotelFields.data) return []\n  let _tabs = []\n  let fieldsData = exotelFields.data\n\n  if (fieldsData[0].type != 'Tab Break') {\n    let _sections = []\n    if (fieldsData[0].type != 'Section Break') {\n      _sections.push({\n        name: 'first_section',\n        columns: [{ name: 'first_column', fields: [] }],\n      })\n    }\n    _tabs.push({ name: 'first_tab', sections: _sections })\n  }\n\n  fieldsData.forEach((field) => {\n    let last_tab = _tabs[_tabs.length - 1]\n    let _sections = _tabs.length ? last_tab.sections : []\n    if (field.fieldtype === 'Tab Break') {\n      _tabs.push({\n        label: field.label,\n        name: field.fieldname,\n        sections: [\n          {\n            name: 'section_' + getRandom(),\n            columns: [{ name: 'column_' + getRandom(), fields: [] }],\n          },\n        ],\n      })\n    } else if (field.fieldtype === 'Section Break') {\n      _sections.push({\n        label: field.label,\n        name: field.fieldname,\n        hideBorder: field.hide_border,\n        columns: [{ name: 'column_' + getRandom(), fields: [] }],\n      })\n    } else if (field.fieldtype === 'Column Break') {\n      _sections[_sections.length - 1].columns.push({\n        name: field.fieldname,\n        fields: [],\n      })\n    } else {\n      let last_section = _sections[_sections.length - 1]\n      let last_column = last_section.columns[last_section.columns.length - 1]\n      last_column.fields.push(field)\n    }\n  })\n\n  return _tabs\n})\n\nconst mediumChanged = ref(false)\n\nwatch(defaultCallingMedium, () => {\n  mediumChanged.value = true\n})\n\nfunction update() {\n  if (!validateIfDefaultMediumIsEnabled()) return\n  if (mediumChanged.value) {\n    updateMedium()\n  }\n\n  if (!isManager()) return\n\n  if (twilio.isDirty) {\n    twilio.save.submit()\n  }\n  if (exotel.isDirty) {\n    exotel.save.submit()\n  }\n}\n\nasync function updateMedium() {\n  await call('crm.integrations.api.set_default_calling_medium', {\n    medium: defaultCallingMedium.value,\n  })\n  mediumChanged.value = false\n  error.value = ''\n  toast.success(__('Default calling medium updated successfully'))\n}\n\nconst error = ref('')\n\nfunction validateIfDefaultMediumIsEnabled() {\n  if (isAgent() && !isManager()) return true\n\n  if (defaultCallingMedium.value === 'Twilio' && !twilio.doc.enabled) {\n    error.value = __('Twilio is not enabled')\n    return false\n  }\n  if (defaultCallingMedium.value === 'Exotel' && !exotel.doc.enabled) {\n    error.value = __('Exotel is not enabled')\n    return false\n  }\n  return true\n}\n</script>\n","export default \"__VITE_ASSET__ae42638a__\"","export default \"__VITE_ASSET__7cc0e65d__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwMAAALUBAMAAAClQPMzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAACRQTFRFR3BMNqzpdMXvXb3tr+f3o+P1AJ/ZGoPjALPjmeH1dc3uBqfjM5e/jQAAAAZ0Uk5TAPVwwVLTgnc47wAABIBJREFUeNrt1rEJwlAYhdEHNpZa2UpwAxewcAXtbdJYpQo4gATsBVdwAOcTd/DyknC+9zY4XPhLkSRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJGmGL/cTazo5gOWR69KFWCBAgQIAAAQIECBAgmArBHYEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAMHfO4U6X9tP4reb9aX77/v9rqtH8Ar1bEOl1oWgNsGAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAjqEfShbu9QTajD/AhS8yqzCwECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIKheE2p3DFUkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZLG2Bet4fvU2eVggAAAAABJRU5ErkJggg==\"","export default \"__VITE_ASSET__b6543205__\"","export default \"__VITE_ASSET__14b6d168__\"","export default \"__VITE_ASSET__d995bd23__\"","export default \"__VITE_ASSET__61f532d2__\"","import { validateEmail } from '../../utils'\n\nimport LogoGmail from '@/images/gmail.png'\nimport LogoOutlook from '@/images/outlook.png'\nimport LogoSendgrid from '@/images/sendgrid.png'\nimport LogoSparkpost from '@/images/sparkpost.webp'\nimport LogoYahoo from '@/images/yahoo.png'\nimport LogoYandex from '@/images/yandex.png'\nimport LogoFrappeMail from '@/images/frappe-mail.svg'\n\nconst fixedFields = [\n  {\n    label: __('Account Name'),\n    name: 'email_account_name',\n    type: 'text',\n    placeholder: __('Support / Sales'),\n  },\n  {\n    label: 'Email ID',\n    name: 'email_id',\n    type: 'email',\n    placeholder: 'johndoe@example.com',\n  },\n]\n\nexport const incomingOutgoingFields = [\n  {\n    label: __('Enable Incoming'),\n    name: 'enable_incoming',\n    type: 'checkbox',\n    description: __(\n      'If enabled, records can be created from the incoming emails on this account.',\n    ),\n  },\n  {\n    label: __('Enable Outgoing'),\n    name: 'enable_outgoing',\n    type: 'checkbox',\n    description: __(\n      'If enabled, outgoing emails can be sent from this account.',\n    ),\n  },\n  {\n    label: __('Default Incoming'),\n    name: 'default_incoming',\n    type: 'checkbox',\n    description: __(\n      'If enabled, all replies to your company (eg: replies@yourcomany.com) will come to this account. Note: Only one account can be default incoming.',\n    ),\n  },\n  {\n    label: __('Default Outgoing'),\n    name: 'default_outgoing',\n    type: 'checkbox',\n    description: __(\n      'If enabled, all outgoing emails will be sent from this account. Note: Only one account can be default outgoing.',\n    ),\n  },\n]\n\nexport const popularProviderFields = [\n  ...fixedFields,\n  {\n    label: __('Password'),\n    name: 'password',\n    type: 'password',\n    placeholder: '********',\n  },\n]\n\nexport const customProviderFields = [\n  ...fixedFields,\n  {\n    label: 'Frappe Mail Site',\n    name: 'frappe_mail_site',\n    type: 'text',\n    placeholder: 'https://frappemail.com',\n  },\n  {\n    label: 'API Key',\n    name: 'api_key',\n    type: 'text',\n    placeholder: '********',\n  },\n  {\n    label: 'API Secret',\n    name: 'api_secret',\n    type: 'password',\n    placeholder: '********',\n  },\n]\n\nexport const services = [\n  {\n    name: 'GMail',\n    icon: LogoGmail,\n    info: __(`Setting up GMail requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more`),\n    link: 'https://support.google.com/accounts/answer/185833',\n    custom: false,\n  },\n  {\n    name: 'Outlook',\n    icon: LogoOutlook,\n    info: __(`Setting up Outlook requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more`),\n    link: 'https://support.microsoft.com/en-us/account-billing/how-to-get-and-use-app-passwords-5896ed9b-4263-e681-128a-a6f2979a7944',\n    custom: false,\n  },\n  {\n    name: 'Sendgrid',\n    icon: LogoSendgrid,\n    info: __(`Setting up Sendgrid requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `),\n    link: 'https://sendgrid.com/docs/ui/account-and-settings/two-factor-authentication/',\n    custom: false,\n  },\n  {\n    name: 'SparkPost',\n    icon: LogoSparkpost,\n    info: __(`Setting up SparkPost requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `),\n    link: 'https://support.sparkpost.com/docs/my-account-and-profile/enabling-two-factor-authentication',\n    custom: false,\n  },\n  {\n    name: 'Yahoo',\n    icon: LogoYahoo,\n    info: __(`Setting up Yahoo requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `),\n    link: 'https://help.yahoo.com/kb/SLN15241.html',\n    custom: false,\n  },\n  {\n    name: 'Yandex',\n    icon: LogoYandex,\n    info: __(`Setting up Yandex requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `),\n    link: 'https://yandex.com/support/id/authorization/app-passwords.html',\n    custom: false,\n  },\n  {\n    name: 'Frappe Mail',\n    icon: LogoFrappeMail,\n    info: __(\n      `Setting up Frappe Mail requires you to have an API key and API Secret of your email account. Read more `,\n    ),\n    link: 'https://github.com/frappe/mail',\n    custom: true,\n  },\n]\n\nexport const emailIcon = {\n  GMail: LogoGmail,\n  Outlook: LogoOutlook,\n  Sendgrid: LogoSendgrid,\n  SparkPost: LogoSparkpost,\n  Yahoo: LogoYahoo,\n  Yandex: LogoYandex,\n  'Frappe Mail': LogoFrappeMail,\n}\n\nexport function validateInputs(state, isCustom) {\n  if (!state.email_account_name) {\n    return __('Account name is required')\n  }\n  if (!state.email_id) {\n    return __('Email ID is required')\n  }\n  const validEmail = validateEmail(state.email_id)\n  if (!validEmail) {\n    return __('Invalid email ID')\n  }\n  if (!isCustom && !state.password) {\n    return __('Password is required')\n  }\n  if (isCustom) {\n    if (!state.api_key) {\n      return __('API Key is required')\n    }\n    if (!state.api_secret) {\n      return\n    }\n  }\n  return ''\n}\n","<template>\n  <div class=\"flex flex-col h-full gap-4\">\n    <!-- title and desc -->\n    <div role=\"heading\" aria-level=\"1\" class=\"flex flex-col gap-1\">\n      <h2 class=\"text-xl font-semibold text-ink-gray-9\">\n        {{ __('Setup Email') }}\n      </h2>\n      <p class=\"text-sm text-gray-600\">\n        {{ __('Choose the email service provider you want to configure.') }}\n      </p>\n    </div>\n    <!-- email service provider selection -->\n    <div class=\"flex flex-wrap items-center\">\n      <div\n        v-for=\"s in services\"\n        :key=\"s.name\"\n        class=\"flex flex-col items-center gap-1 mt-4 w-[70px]\"\n        @click=\"handleSelect(s)\"\n      >\n        <EmailProviderIcon\n          :service-name=\"s.name\"\n          :logo=\"s.icon\"\n          :selected=\"selectedService?.name === s?.name\"\n        />\n      </div>\n    </div>\n    <div v-if=\"selectedService\" class=\"flex flex-col gap-4\">\n      <!-- email service provider info -->\n      <div\n        class=\"flex items-center gap-2 p-2 rounded-md ring-1 ring-gray-400 dark:ring-gray-700 text-gray-700 dark:text-gray-500\"\n      >\n        <CircleAlert class=\"w-5 h-6 w-min-5 w-max-5 min-h-5 max-w-5\" />\n        <div class=\"text-xs text-wrap\">\n          {{ selectedService.info }}\n          <a :href=\"selectedService.link\" target=\"_blank\" class=\"underline\"\n            >here</a\n          >.\n        </div>\n      </div>\n      <!-- service provider fields -->\n      <div class=\"flex flex-col gap-4\">\n        <div class=\"grid grid-cols-1 gap-4\">\n          <div\n            v-for=\"field in fields\"\n            :key=\"field.name\"\n            class=\"flex flex-col gap-1\"\n          >\n            <FormControl\n              v-model=\"state[field.name]\"\n              :label=\"field.label\"\n              :name=\"field.name\"\n              :type=\"field.type\"\n              :placeholder=\"field.placeholder\"\n            />\n          </div>\n        </div>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div\n            v-for=\"field in incomingOutgoingFields\"\n            :key=\"field.name\"\n            class=\"flex flex-col gap-1\"\n          >\n            <FormControl\n              v-model=\"state[field.name]\"\n              :label=\"field.label\"\n              :name=\"field.name\"\n              :type=\"field.type\"\n            />\n            <p class=\"text-gray-500 text-p-sm\">{{ field.description }}</p>\n          </div>\n        </div>\n        <ErrorMessage v-if=\"error\" class=\"ml-1\" :message=\"error\" />\n      </div>\n    </div>\n    <!-- action button -->\n    <div v-if=\"selectedService\" class=\"flex justify-between mt-auto\">\n      <Button\n        label=\"Back\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :disabled=\"addEmailRes.loading\"\n        @click=\"emit('update:step', 'email-list')\"\n      />\n      <Button\n        label=\"Create\"\n        variant=\"solid\"\n        :loading=\"addEmailRes.loading\"\n        @click=\"createEmailAccount\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from 'vue'\nimport { createResource, toast } from 'frappe-ui'\nimport CircleAlert from '~icons/lucide/circle-alert'\nimport {\n  customProviderFields,\n  popularProviderFields,\n  services,\n  validateInputs,\n  incomingOutgoingFields,\n} from './emailConfig'\nimport EmailProviderIcon from './EmailProviderIcon.vue'\n\nconst emit = defineEmits()\n\nconst state = reactive({\n  service: '',\n  email_account_name: '',\n  email_id: '',\n  password: '',\n  api_key: '',\n  api_secret: '',\n  frappe_mail_site: '',\n  enable_incoming: false,\n  enable_outgoing: false,\n  default_incoming: false,\n  default_outgoing: false,\n})\n\nconst selectedService = ref(null)\nconst fields = computed(() =>\n  selectedService.value.custom ? customProviderFields : popularProviderFields,\n)\n\nfunction handleSelect(service) {\n  selectedService.value = service\n  state.service = service.name\n}\n\nconst addEmailRes = createResource({\n  url: 'crm.api.settings.create_email_account',\n  makeParams: (val) => {\n    return {\n      ...val,\n    }\n  },\n  onSuccess: () => {\n    toast.success(__('Email account created successfully'))\n    emit('update:step', 'email-list')\n  },\n  onError: () => {\n    error.value = __('Failed to create email account, Invalid credentials')\n  },\n})\n\nconst error = ref()\nfunction createEmailAccount() {\n  error.value = validateInputs(state, selectedService.value.custom)\n  if (error.value) return\n\n  addEmailRes.submit({ data: state })\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"flex items-center justify-between p-1 py-3 border-b border-gray-200 dark:border-gray-700 cursor-pointer\"\n  >\n    <!-- avatar and name -->\n    <div class=\"flex items-center justify-between gap-2\">\n      <EmailProviderIcon :logo=\"emailIcon[emailAccount.service]\" />\n      <div>\n        <p class=\"text-sm font-semibold text-ink-gray-9\">\n          {{ emailAccount.email_account_name }}\n        </p>\n        <div class=\"text-sm text-gray-500\">{{ emailAccount.email_id }}</div>\n      </div>\n    </div>\n    <div>\n      <Badge variant=\"subtle\" :label=\"badgeTitle\" :theme=\"gray\" />\n    </div>\n    <!-- email id -->\n  </div>\n</template>\n\n<script setup>\nimport { emailIcon } from './emailConfig'\nimport EmailProviderIcon from './EmailProviderIcon.vue'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  emailAccount: {\n    type: Object,\n    required: true,\n  },\n})\n\nconst badgeTitle = computed(() => {\n  if (\n    props.emailAccount.default_incoming &&\n    props.emailAccount.default_outgoing\n  ) {\n    return __('Default Sending and Inbox')\n  } else if (props.emailAccount.default_incoming) {\n    return __('Default Inbox')\n  } else if (props.emailAccount.default_outgoing) {\n    return __('Default Sending')\n  } else {\n    return __('Inbox')\n  }\n})\n</script>\n\n<style scoped></style>\n","<template>\n  <div>\n    <!-- header -->\n    <div class=\"flex items-center justify-between text-ink-gray-9\">\n      <h2 class=\"flex gap-2 text-xl font-semibold leading-none h-5\">\n        {{ __('Email Accounts') }}\n      </h2>\n      <Button\n        :label=\"__('Add Account')\"\n        theme=\"gray\"\n        variant=\"solid\"\n        @click=\"emit('update:step', 'email-add')\"\n        class=\"mr-8\"\n      >\n        <template #prefix>\n          <LucidePlus class=\"w-4 h-4\" />\n        </template>\n      </Button>\n    </div>\n    <!-- list accounts -->\n    <div\n      v-if=\"!emailAccounts.loading && Boolean(emailAccounts.data?.length)\"\n      class=\"mt-4\"\n    >\n      <div v-for=\"emailAccount in emailAccounts.data\" :key=\"emailAccount.name\">\n        <EmailAccountCard\n          :emailAccount=\"emailAccount\"\n          @click=\"emit('update:step', 'email-edit', emailAccount)\"\n        />\n      </div>\n    </div>\n    <!-- fallback if no email accounts -->\n    <div v-else class=\"flex items-center justify-center h-64 text-gray-500\">\n      {{ __('Please add an email account to continue.') }}\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { createListResource } from 'frappe-ui'\nimport EmailAccountCard from './EmailAccountCard.vue'\n\nconst emit = defineEmits(['update:step'])\n\nconst emailAccounts = createListResource({\n  doctype: 'Email Account',\n  cache: true,\n  fields: ['*'],\n  filters: {\n    email_id: ['Not Like', '%example%'],\n  },\n  pageLength: 10,\n  auto: true,\n  onSuccess: (accounts) => {\n    // convert 0 to false to handle boolean fields\n    accounts.forEach((account) => {\n      account.enable_incoming = Boolean(account.enable_incoming)\n      account.enable_outgoing = Boolean(account.enable_outgoing)\n      account.default_incoming = Boolean(account.default_incoming)\n      account.default_outgoing = Boolean(account.default_outgoing)\n    })\n  },\n})\n</script>\n","<template>\n  <div class=\"flex flex-col h-full gap-4\">\n    <!-- title and desc -->\n    <div role=\"heading\" aria-level=\"1\" class=\"flex justify-between gap-1\">\n      <h2 class=\"text-xl font-semibold text-ink-gray-9\">\n        {{ __('Edit Email') }}\n      </h2>\n    </div>\n    <div class=\"w-fit\">\n      <EmailProviderIcon\n        :logo=\"emailIcon[accountData.service]\"\n        :service-name=\"accountData.service\"\n      />\n    </div>\n    <!-- banner for setting up email account -->\n    <div\n      class=\"flex items-center gap-2 p-2 rounded-md ring-1 ring-gray-400 dark:ring-gray-700\"\n    >\n      <CircleAlert\n        class=\"size-6 text-gray-500 w-min-5 w-max-5 min-h-5 max-w-5\"\n      />\n      <div class=\"text-xs text-gray-700 dark:text-gray-500 text-wrap\">\n        {{ info.description }}\n        <a :href=\"info.link\" target=\"_blank\" class=\"underline\">{{\n          __('here')\n        }}</a>\n        .\n      </div>\n    </div>\n    <!-- fields -->\n    <div class=\"flex flex-col gap-4\">\n      <div class=\"grid grid-cols-1 gap-4\">\n        <div\n          v-for=\"field in fields\"\n          :key=\"field.name\"\n          class=\"flex flex-col gap-1\"\n        >\n          <FormControl\n            v-model=\"state[field.name]\"\n            :label=\"field.label\"\n            :name=\"field.name\"\n            :type=\"field.type\"\n            :placeholder=\"field.placeholder\"\n          />\n        </div>\n      </div>\n      <div class=\"grid grid-cols-2 gap-4\">\n        <div\n          v-for=\"field in incomingOutgoingFields\"\n          :key=\"field.name\"\n          class=\"flex flex-col gap-1\"\n        >\n          <FormControl\n            v-model=\"state[field.name]\"\n            :label=\"field.label\"\n            :name=\"field.name\"\n            :type=\"field.type\"\n          />\n          <p class=\"text-gray-500 text-p-sm\">{{ field.description }}</p>\n        </div>\n      </div>\n      <ErrorMessage v-if=\"error\" class=\"ml-1\" :message=\"error\" />\n    </div>\n    <!-- action buttons -->\n    <div class=\"flex justify-between mt-auto\">\n      <Button\n        :label=\"__('Back')\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :disabled=\"loading\"\n        @click=\"emit('update:step', 'email-list')\"\n      />\n      <Button\n        :label=\"__('Update Account')\"\n        variant=\"solid\"\n        @click=\"updateAccount\"\n        :loading=\"loading\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from 'vue'\nimport { call, toast } from 'frappe-ui'\nimport EmailProviderIcon from './EmailProviderIcon.vue'\nimport {\n  emailIcon,\n  services,\n  popularProviderFields,\n  customProviderFields,\n  validateInputs,\n  incomingOutgoingFields,\n} from './emailConfig'\nimport CircleAlert from '~icons/lucide/circle-alert'\n\nconst props = defineProps({\n  accountData: null,\n})\n\nconst emit = defineEmits()\n\nconst state = reactive({\n  email_account_name: props.accountData.email_account_name || '',\n  service: props.accountData.service || '',\n  email_id: props.accountData.email_id || '',\n  api_key: props.accountData?.api_key || null,\n  api_secret: props.accountData?.api_secret || null,\n  password: props.accountData?.password || null,\n  frappe_mail_site: props.accountData?.frappe_mail_site || '',\n  enable_incoming: props.accountData.enable_incoming || false,\n  enable_outgoing: props.accountData.enable_outgoing || false,\n  default_outgoing: props.accountData.default_outgoing || false,\n  default_incoming: props.accountData.default_incoming || false,\n})\n\nconst info = {\n  description: __('To know more about setting up email accounts, click'),\n  link: 'https://docs.erpnext.com/docs/user/manual/en/email-account',\n}\n\nconst isCustomService = computed(() => {\n  return services.find((s) => s.name === props.accountData.service).custom\n})\n\nconst fields = computed(() => {\n  if (isCustomService.value) {\n    return customProviderFields\n  }\n  return popularProviderFields\n})\n\nconst error = ref()\nconst loading = ref(false)\nasync function updateAccount() {\n  error.value = validateInputs(state, isCustomService.value)\n  if (error.value) return\n  const old = { ...props.accountData }\n  const updatedEmailAccount = { ...state }\n\n  const nameChanged =\n    old.email_account_name !== updatedEmailAccount.email_account_name\n  delete old.email_account_name\n  delete updatedEmailAccount.email_account_name\n\n  const otherFieldsChanged = isDirty.value\n  const values = updatedEmailAccount\n\n  if (!nameChanged && !otherFieldsChanged) {\n    toast.info(__('No changes made'))\n    return\n  }\n\n  if (nameChanged) {\n    try {\n      loading.value = true\n      await callRenameDoc()\n      succesHandler()\n    } catch (err) {\n      errorHandler()\n    }\n  }\n  if (otherFieldsChanged) {\n    try {\n      loading.value = true\n      await callSetValue(values)\n      succesHandler()\n    } catch (err) {\n      errorHandler()\n    }\n  }\n}\n\nconst isDirty = computed(() => {\n  return (\n    state.email_id !== props.accountData.email_id ||\n    state.api_key !== props.accountData.api_key ||\n    state.api_secret !== props.accountData.api_secret ||\n    state.password !== props.accountData.password ||\n    state.enable_incoming !== props.accountData.enable_incoming ||\n    state.enable_outgoing !== props.accountData.enable_outgoing ||\n    state.default_outgoing !== props.accountData.default_outgoing ||\n    state.default_incoming !== props.accountData.default_incoming ||\n    state.frappe_mail_site !== props.accountData.frappe_mail_site\n  )\n})\n\nasync function callRenameDoc() {\n  const d = await call('frappe.client.rename_doc', {\n    doctype: 'Email Account',\n    old_name: props.accountData.email_account_name,\n    new_name: state.email_account_name,\n  })\n  return d\n}\n\nasync function callSetValue(values) {\n  const d = await call('frappe.client.set_value', {\n    doctype: 'Email Account',\n    name: state.email_account_name,\n    fieldname: values,\n  })\n  return d.name\n}\n\nfunction succesHandler() {\n  emit('update:step', 'email-list')\n  toast.success(__('Email account updated successfully'))\n}\n\nfunction errorHandler() {\n  loading.value = false\n  error.value = __('Failed to update email account, Invalid credentials')\n}\n</script>\n","<template>\n  <div class=\"flex-1 p-8\">\n    <div v-if=\"step === 'email-add'\" class=\"h-full\">\n      <EmailAdd @update:step=\"updateStep\" />\n    </div>\n    <div v-else-if=\"step === 'email-list'\" class=\"h-full\">\n      <EmailAccountList @update:step=\"updateStep\" />\n    </div>\n    <div v-else-if=\"step === 'email-edit'\" class=\"h-full\">\n      <EmailEdit :account-data=\"accountData\" @update:step=\"updateStep\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport EmailAdd from \"./EmailAdd.vue\";\nimport EmailAccountList from \"./EmailAccountList.vue\";\nimport EmailEdit from \"./EmailEdit.vue\";\n\nconst step = ref(\"email-list\");\nconst accountData = ref(null);\nfunction updateStep(newStep, data) {\n  step.value = newStep;\n  accountData.value = data;\n}\n</script>\n","<template>\n  <Dialog\n    v-model=\"showSettings\"\n    :options=\"{ size: '5xl' }\"\n    @close=\"activeSettingsPage = ''\"\n  >\n    <template #body>\n      <div class=\"flex h-[calc(100vh_-_8rem)]\">\n        <div class=\"flex flex-col p-2 w-52 shrink-0 bg-surface-gray-2\">\n          <h1 class=\"px-2 pt-2 mb-3 text-lg font-semibold text-ink-gray-9\">\n            {{ __('Settings') }}\n          </h1>\n          <div v-for=\"tab in tabs\">\n            <div\n              v-if=\"!tab.hideLabel\"\n              class=\"mb-2 mt-3 flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out\"\n            >\n              <span>{{ __(tab.label) }}</span>\n            </div>\n            <nav class=\"space-y-1\">\n              <SidebarLink\n                v-for=\"i in tab.items\"\n                :icon=\"i.icon\"\n                :label=\"__(i.label)\"\n                class=\"w-full\"\n                :class=\"\n                  activeTab?.label == i.label\n                    ? 'bg-surface-selected shadow-sm hover:bg-surface-selected'\n                    : 'hover:bg-surface-gray-3'\n                \"\n                @click=\"activeTab = i\"\n              />\n            </nav>\n          </div>\n        </div>\n        <div\n          class=\"relative flex flex-col flex-1 overflow-y-auto bg-surface-modal\"\n        >\n          <Button\n            class=\"absolute right-5 top-5\"\n            variant=\"ghost\"\n            icon=\"x\"\n            @click=\"showSettings = false\"\n          />\n          <component :is=\"activeTab.component\" v-if=\"activeTab\" />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport WhatsAppIcon from '@/components/Icons/WhatsAppIcon.vue'\nimport ERPNextIcon from '@/components/Icons/ERPNextIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport InviteIcon from '@/components/Icons/InviteIcon.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport GeneralSettings from '@/components/Settings/GeneralSettings.vue'\nimport InviteMemberPage from '@/components/Settings/InviteMemberPage.vue'\nimport ProfileSettings from '@/components/Settings/ProfileSettings.vue'\nimport WhatsAppSettings from '@/components/Settings/WhatsAppSettings.vue'\nimport ERPNextSettings from '@/components/Settings/ERPNextSettings.vue'\nimport TelephonySettings from '@/components/Settings/TelephonySettings.vue'\nimport EmailConfig from '@/components/Settings/EmailConfig.vue'\nimport SidebarLink from '@/components/SidebarLink.vue'\nimport { usersStore } from '@/stores/users'\nimport {\n  isWhatsappInstalled,\n  showSettings,\n  activeSettingsPage,\n} from '@/composables/settings'\nimport { Dialog, Button, Avatar } from 'frappe-ui'\nimport { ref, markRaw, computed, watch, h } from 'vue'\n\nconst { isManager, isAgent, getUser } = usersStore()\n\nconst user = computed(() => getUser() || {})\n\nconst tabs = computed(() => {\n  let _tabs = [\n    {\n      label: __('Settings'),\n      hideLabel: true,\n      items: [\n        {\n          label: __('Profile'),\n          icon: () =>\n            h(Avatar, {\n              size: 'xs',\n              label: user.value.full_name,\n              image: user.value.user_image,\n            }),\n          component: markRaw(ProfileSettings),\n        },\n        {\n          label: __('General'),\n          icon: 'settings',\n          component: markRaw(GeneralSettings),\n          condition: () => isManager(),\n        },\n        {\n          label: __('Invite Members'),\n          icon: InviteIcon,\n          component: markRaw(InviteMemberPage),\n          condition: () => isManager(),\n        },\n        {\n          label: __('Email Accounts'),\n          icon: Email2Icon,\n          component: markRaw(EmailConfig),\n          condition: () => isManager(),\n        },\n      ],\n    },\n    {\n      label: __('Integrations'),\n      items: [\n        {\n          label: __('Telephony'),\n          icon: PhoneIcon,\n          component: markRaw(TelephonySettings),\n          condition: () => isManager() || isAgent(),\n        },\n        {\n          label: __('WhatsApp'),\n          icon: WhatsAppIcon,\n          component: markRaw(WhatsAppSettings),\n          condition: () => isWhatsappInstalled.value && isManager(),\n        },\n        {\n          label: __('ERPNext'),\n          icon: ERPNextIcon,\n          component: markRaw(ERPNextSettings),\n          condition: () => isManager(),\n        },\n      ],\n      condition: () => isManager() || isAgent(),\n    },\n  ]\n\n  return _tabs.filter((tab) => {\n    if (tab.condition && !tab.condition()) return false\n    if (tab.items) {\n      tab.items = tab.items.filter((item) => {\n        if (item.condition && !item.condition()) return false\n        return true\n      })\n    }\n    return true\n  })\n})\n\nconst activeTab = ref(tabs.value[0].items[0])\n\nfunction setActiveTab(tabName) {\n  activeTab.value =\n    (tabName &&\n      tabs.value\n        .map((tab) => tab.items)\n        .flat()\n        .find((tab) => tab.label === tabName)) ||\n    tabs.value[0].items[0]\n}\n\nwatch(activeSettingsPage, (activePage) => setActiveTab(activePage))\n</script>\n","<template>\n  <div\n    class=\"relative flex h-full flex-col justify-between transition-all duration-300 ease-in-out\"\n    :class=\"isSidebarCollapsed ? 'w-12' : 'w-[220px]'\"\n  >\n    <div>\n      <UserDropdown class=\"p-2\" :isCollapsed=\"isSidebarCollapsed\" />\n    </div>\n    <div class=\"flex-1 overflow-y-auto\">\n      <div class=\"mb-3 flex flex-col\">\n        <SidebarLink\n          id=\"notifications-btn\"\n          :label=\"__('Notifications')\"\n          :icon=\"NotificationsIcon\"\n          :isCollapsed=\"isSidebarCollapsed\"\n          @click=\"() => toggleNotificationPanel()\"\n          class=\"relative mx-2 my-0.5\"\n        >\n          <template #right>\n            <Badge\n              v-if=\"!isSidebarCollapsed && unreadNotificationsCount\"\n              :label=\"unreadNotificationsCount\"\n              variant=\"subtle\"\n            />\n            <div\n              v-else-if=\"unreadNotificationsCount\"\n              class=\"absolute -left-1.5 top-1 z-20 h-[5px] w-[5px] translate-x-6 translate-y-1 rounded-full bg-surface-gray-6 ring-1 ring-white\"\n            />\n          </template>\n        </SidebarLink>\n      </div>\n      <div v-for=\"view in allViews\" :key=\"view.label\">\n        <div\n          v-if=\"!view.hideLabel && isSidebarCollapsed && view.views?.length\"\n          class=\"mx-2 my-2 h-1 border-b\"\n        />\n        <Section\n          :label=\"view.name\"\n          :hideLabel=\"view.hideLabel\"\n          :opened=\"view.opened\"\n        >\n          <template #header=\"{ opened, hide, toggle }\">\n            <div\n              v-if=\"!hide\"\n              class=\"flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out\"\n              :class=\"\n                isSidebarCollapsed\n                  ? 'ml-0 h-0 overflow-hidden opacity-0'\n                  : 'ml-2 mt-4 h-7 w-auto opacity-100'\n              \"\n              @click=\"toggle()\"\n            >\n              <FeatherIcon\n                name=\"chevron-right\"\n                class=\"h-4 text-ink-gray-9 transition-all duration-300 ease-in-out\"\n                :class=\"{ 'rotate-90': opened }\"\n              />\n              <span>{{ __(view.name) }}</span>\n            </div>\n          </template>\n          <nav class=\"flex flex-col\">\n            <SidebarLink\n              v-for=\"link in view.views\"\n              :icon=\"link.icon\"\n              :label=\"__(link.label)\"\n              :to=\"link.to\"\n              :isCollapsed=\"isSidebarCollapsed\"\n              class=\"mx-2 my-0.5\"\n            />\n          </nav>\n        </Section>\n      </div>\n    </div>\n    <div class=\"m-2 flex flex-col gap-1\">\n      <div class=\"flex flex-col gap-2 mb-1\">\n        <SignupBanner\n          v-if=\"isDemoSite\"\n          :isSidebarCollapsed=\"isSidebarCollapsed\"\n          :afterSignup=\"() => capture('signup_from_demo_site')\"\n        />\n        <TrialBanner\n          v-if=\"isFCSite\"\n          :isSidebarCollapsed=\"isSidebarCollapsed\"\n          :afterUpgrade=\"() => capture('upgrade_plan_from_trial_banner')\"\n        />\n        <GettingStartedBanner\n          v-if=\"!isOnboardingStepsCompleted\"\n          :isSidebarCollapsed=\"isSidebarCollapsed\"\n        />\n      </div>\n      <SidebarLink\n        v-if=\"isOnboardingStepsCompleted\"\n        :label=\"__('Help')\"\n        :isCollapsed=\"isSidebarCollapsed\"\n        @click=\"\n          () => {\n            showHelpModal = minimize ? true : !showHelpModal\n            minimize = !showHelpModal\n          }\n        \"\n      >\n        <template #icon>\n          <HelpIcon class=\"h-4 w-4\" />\n        </template>\n      </SidebarLink>\n      <SidebarLink\n        :label=\"isSidebarCollapsed ? __('Expand') : __('Collapse')\"\n        :isCollapsed=\"isSidebarCollapsed\"\n        @click=\"isSidebarCollapsed = !isSidebarCollapsed\"\n        class=\"\"\n      >\n        <template #icon>\n          <span class=\"grid h-4 w-4 flex-shrink-0 place-items-center\">\n            <CollapseSidebar\n              class=\"h-4 w-4 text-ink-gray-7 duration-300 ease-in-out\"\n              :class=\"{ '[transform:rotateY(180deg)]': isSidebarCollapsed }\"\n            />\n          </span>\n        </template>\n      </SidebarLink>\n    </div>\n    <Notifications />\n    <Settings />\n    <HelpModal\n      v-if=\"showHelpModal\"\n      v-model=\"showHelpModal\"\n      v-model:articles=\"articles\"\n      :logo=\"CRMLogo\"\n      :afterSkip=\"(step) => capture('onboarding_step_skipped_' + step)\"\n      :afterSkipAll=\"() => capture('onboarding_steps_skipped')\"\n      :afterReset=\"(step) => capture('onboarding_step_reset_' + step)\"\n      :afterResetAll=\"() => capture('onboarding_steps_reset')\"\n      docsLink=\"https://docs.frappe.io/crm\"\n    />\n    <IntermediateStepModal\n      v-model=\"showIntermediateModal\"\n      :currentStep=\"currentStep\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport CRMLogo from '@/components/Icons/CRMLogo.vue'\nimport InviteIcon from '@/components/Icons/InviteIcon.vue'\nimport ConvertIcon from '@/components/Icons/ConvertIcon.vue'\nimport CommentIcon from '@/components/Icons/CommentIcon.vue'\nimport EmailIcon from '@/components/Icons/EmailIcon.vue'\nimport StepsIcon from '@/components/Icons/StepsIcon.vue'\nimport Section from '@/components/Section.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport PinIcon from '@/components/Icons/PinIcon.vue'\nimport UserDropdown from '@/components/UserDropdown.vue'\nimport SquareAsterisk from '@/components/Icons/SquareAsterisk.vue'\nimport LeadsIcon from '@/components/Icons/LeadsIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport ContactsIcon from '@/components/Icons/ContactsIcon.vue'\nimport OrganizationsIcon from '@/components/Icons/OrganizationsIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport CollapseSidebar from '@/components/Icons/CollapseSidebar.vue'\nimport NotificationsIcon from '@/components/Icons/NotificationsIcon.vue'\nimport HelpIcon from '@/components/Icons/HelpIcon.vue'\nimport SidebarLink from '@/components/SidebarLink.vue'\nimport Notifications from '@/components/Notifications.vue'\nimport Settings from '@/components/Settings/Settings.vue'\nimport { viewsStore } from '@/stores/views'\nimport {\n  unreadNotificationsCount,\n  notificationsStore,\n} from '@/stores/notifications'\nimport { usersStore } from '@/stores/users'\nimport { sessionStore } from '@/stores/session'\nimport { showSettings, activeSettingsPage } from '@/composables/settings'\nimport { FeatherIcon, call } from 'frappe-ui'\nimport {\n  SignupBanner,\n  TrialBanner,\n  HelpModal,\n  GettingStartedBanner,\n  useOnboarding,\n  showHelpModal,\n  minimize,\n  IntermediateStepModal,\n} from 'frappe-ui/frappe'\nimport { capture } from '@/telemetry'\nimport router from '@/router'\nimport { useStorage } from '@vueuse/core'\nimport { ref, reactive, computed, h, markRaw, onMounted } from 'vue'\n\nconst { getPinnedViews, getPublicViews } = viewsStore()\nconst { toggle: toggleNotificationPanel } = notificationsStore()\n\nconst isSidebarCollapsed = useStorage('isSidebarCollapsed', false)\n\nconst isFCSite = ref(window.is_fc_site)\nconst isDemoSite = ref(window.is_demo_site)\n\nconst links = [\n  {\n    label: 'Leads',\n    icon: LeadsIcon,\n    to: 'Leads',\n  },\n  {\n    label: 'Deals',\n    icon: DealsIcon,\n    to: 'Deals',\n  },\n  {\n    label: 'Contacts',\n    icon: ContactsIcon,\n    to: 'Contacts',\n  },\n  {\n    label: 'Organizations',\n    icon: OrganizationsIcon,\n    to: 'Organizations',\n  },\n  {\n    label: 'Notes',\n    icon: NoteIcon,\n    to: 'Notes',\n  },\n  {\n    label: 'Tasks',\n    icon: TaskIcon,\n    to: 'Tasks',\n  },\n  {\n    label: 'Call Logs',\n    icon: PhoneIcon,\n    to: 'Call Logs',\n  },\n  {\n    label: 'Email Templates',\n    icon: Email2Icon,\n    to: 'Email Templates',\n  },\n]\n\nconst allViews = computed(() => {\n  let _views = [\n    {\n      name: 'All Views',\n      hideLabel: true,\n      opened: true,\n      views: links,\n    },\n  ]\n  if (getPublicViews().length) {\n    _views.push({\n      name: 'Public views',\n      opened: true,\n      views: parseView(getPublicViews()),\n    })\n  }\n\n  if (getPinnedViews().length) {\n    _views.push({\n      name: 'Pinned views',\n      opened: true,\n      views: parseView(getPinnedViews()),\n    })\n  }\n  return _views\n})\n\nfunction parseView(views) {\n  return views.map((view) => {\n    return {\n      label: view.label,\n      icon: getIcon(view.route_name, view.icon),\n      to: {\n        name: view.route_name,\n        params: { viewType: view.type || 'list' },\n        query: { view: view.name },\n      },\n    }\n  })\n}\n\nfunction getIcon(routeName, icon) {\n  if (icon) return h('div', { class: 'size-auto' }, icon)\n\n  switch (routeName) {\n    case 'Leads':\n      return LeadsIcon\n    case 'Deals':\n      return DealsIcon\n    case 'Contacts':\n      return ContactsIcon\n    case 'Organizations':\n      return OrganizationsIcon\n    case 'Notes':\n      return NoteIcon\n    case 'Call Logs':\n      return PhoneIcon\n    default:\n      return PinIcon\n  }\n}\n\n// onboarding\nconst { user } = sessionStore()\nconst { users, isManager } = usersStore()\nconst { isOnboardingStepsCompleted, setUp } = useOnboarding('frappecrm')\n\nasync function getFirstLead() {\n  let firstLead = localStorage.getItem('firstLead' + user)\n  if (firstLead) return firstLead\n  return await call('crm.api.onboarding.get_first_lead')\n}\n\nasync function getFirstDeal() {\n  let firstDeal = localStorage.getItem('firstDeal' + user)\n  if (firstDeal) return firstDeal\n  return await call('crm.api.onboarding.get_first_deal')\n}\n\nconst showIntermediateModal = ref(false)\nconst currentStep = ref({})\n\nconst steps = reactive([\n  {\n    name: 'setup_your_password',\n    title: __('Setup your password'),\n    icon: markRaw(SquareAsterisk),\n    completed: false,\n    onClick: () => {\n      minimize.value = true\n      showSettings.value = true\n      activeSettingsPage.value = 'Profile'\n    },\n  },\n  {\n    name: 'create_first_lead',\n    title: __('Create your first lead'),\n    icon: markRaw(LeadsIcon),\n    completed: false,\n    onClick: () => {\n      minimize.value = true\n      router.push({ name: 'Leads' })\n    },\n  },\n  {\n    name: 'invite_your_team',\n    title: __('Invite your team'),\n    icon: markRaw(InviteIcon),\n    completed: false,\n    onClick: () => {\n      minimize.value = true\n      showSettings.value = true\n      activeSettingsPage.value = 'Invite Members'\n    },\n    condition: () => isManager(),\n  },\n  {\n    name: 'convert_lead_to_deal',\n    title: __('Convert lead to deal'),\n    icon: markRaw(ConvertIcon),\n    completed: false,\n    dependsOn: 'create_first_lead',\n    onClick: async () => {\n      minimize.value = true\n\n      currentStep.value = {\n        title: __('Convert lead to deal'),\n        buttonLabel: __('Convert'),\n        videoURL: '/assets/crm/videos/convertToDeal.mov',\n        onClick: async () => {\n          showIntermediateModal.value = false\n          currentStep.value = {}\n\n          let lead = await getFirstLead()\n          if (lead) {\n            router.push({ name: 'Lead', params: { leadId: lead } })\n          } else {\n            router.push({ name: 'Leads' })\n          }\n        },\n      }\n      showIntermediateModal.value = true\n    },\n  },\n  {\n    name: 'create_first_task',\n    title: __('Create your first task'),\n    icon: markRaw(TaskIcon),\n    completed: false,\n    onClick: async () => {\n      minimize.value = true\n      let deal = await getFirstDeal()\n\n      if (deal) {\n        router.push({\n          name: 'Deal',\n          params: { dealId: deal },\n          hash: '#tasks',\n        })\n      } else {\n        router.push({ name: 'Tasks' })\n      }\n    },\n  },\n  {\n    name: 'create_first_note',\n    title: __('Create your first note'),\n    icon: markRaw(NoteIcon),\n    completed: false,\n    onClick: async () => {\n      minimize.value = true\n      let deal = await getFirstDeal()\n\n      if (deal) {\n        router.push({\n          name: 'Deal',\n          params: { dealId: deal },\n          hash: '#notes',\n        })\n      } else {\n        router.push({ name: 'Notes' })\n      }\n    },\n  },\n  {\n    name: 'add_first_comment',\n    title: __('Add your first comment'),\n    icon: markRaw(CommentIcon),\n    completed: false,\n    dependsOn: 'create_first_lead',\n    onClick: async () => {\n      minimize.value = true\n      let deal = await getFirstDeal()\n\n      if (deal) {\n        router.push({\n          name: 'Deal',\n          params: { dealId: deal },\n          hash: '#comments',\n        })\n      } else {\n        router.push({ name: 'Leads' })\n      }\n    },\n  },\n  {\n    name: 'send_first_email',\n    title: __('Send email'),\n    icon: markRaw(EmailIcon),\n    completed: false,\n    dependsOn: 'create_first_lead',\n    onClick: async () => {\n      minimize.value = true\n      let deal = await getFirstDeal()\n\n      if (deal) {\n        router.push({\n          name: 'Deal',\n          params: { dealId: deal },\n          hash: '#emails',\n        })\n      } else {\n        router.push({ name: 'Leads' })\n      }\n    },\n  },\n  {\n    name: 'change_deal_status',\n    title: __('Change deal status'),\n    icon: markRaw(StepsIcon),\n    completed: false,\n    dependsOn: 'convert_lead_to_deal',\n    onClick: async () => {\n      minimize.value = true\n\n      currentStep.value = {\n        title: __('Change deal status'),\n        buttonLabel: __('Change'),\n        videoURL: '/assets/crm/videos/changeDealStatus.mov',\n        onClick: async () => {\n          showIntermediateModal.value = false\n          currentStep.value = {}\n\n          let deal = await getFirstDeal()\n          if (deal) {\n            router.push({\n              name: 'Deal',\n              params: { dealId: deal },\n              hash: '#activity',\n            })\n          } else {\n            router.push({ name: 'Leads' })\n          }\n        },\n      }\n      showIntermediateModal.value = true\n    },\n  },\n])\n\nonMounted(async () => {\n  await users.promise\n\n  const filteredSteps = steps.filter((step) => {\n    if (step.condition) {\n      return step.condition()\n    }\n    return true\n  })\n\n  setUp(filteredSteps)\n})\n\n// help center\nconst articles = ref([\n  {\n    title: __('Introduction'),\n    opened: false,\n    subArticles: [\n      { name: 'introduction', title: __('Introduction') },\n      { name: 'setting-up', title: __('Setting up') },\n    ],\n  },\n  {\n    title: __('Settings'),\n    opened: false,\n    subArticles: [\n      { name: 'profile', title: __('Profile') },\n      { name: 'custom-branding', title: __('Custom branding') },\n      { name: 'home-actions', title: __('Home actions') },\n      { name: 'invite-members', title: __('Invite members') },\n    ],\n  },\n  {\n    title: __('Masters'),\n    opened: false,\n    subArticles: [\n      { name: 'lead', title: __('Lead') },\n      { name: 'deal', title: __('Deal') },\n      { name: 'contact', title: __('Contact') },\n      { name: 'organization', title: __('Organization') },\n      { name: 'note', title: __('Note') },\n      { name: 'task', title: __('Task') },\n      { name: 'call-log', title: __('Call log') },\n      { name: 'email-template', title: __('Email template') },\n    ],\n  },\n  {\n    title: __('Capturing leads'),\n    opened: false,\n    subArticles: [{ name: 'web-form', title: __('Web form') }],\n  },\n  {\n    title: __('Views'),\n    opened: false,\n    subArticles: [\n      { name: 'view', title: __('Saved view') },\n      { name: 'public-view', title: __('Public view') },\n      { name: 'pinned-view', title: __('Pinned view') },\n    ],\n  },\n  {\n    title: __('Other features'),\n    opened: false,\n    subArticles: [\n      { name: 'email-communication', title: __('Email communication') },\n      { name: 'comment', title: __('Comment') },\n      { name: 'data', title: __('Data') },\n      { name: 'service-level-agreement', title: __('Service level agreement') },\n      { name: 'assignment-rule', title: __('Assignment rule') },\n      { name: 'notification', title: __('Notification') },\n    ],\n  },\n  {\n    title: __('Customization'),\n    opened: false,\n    subArticles: [\n      { name: 'custom-fields', title: __('Custom fields') },\n      { name: 'custom-actions', title: __('Custom actions') },\n      { name: 'custom-statuses', title: __('Custom statuses') },\n      { name: 'custom-list-actions', title: __('Custom list actions') },\n      { name: 'quick-entry-layout', title: __('Quick entry layout') },\n    ],\n  },\n  {\n    title: __('Integration'),\n    opened: false,\n    subArticles: [\n      { name: 'twilio', title: __('Twilio') },\n      { name: 'exotel', title: __('Exotel') },\n      { name: 'whatsapp', title: __('WhatsApp') },\n      { name: 'erpnext', title: __('ERPNext') },\n    ],\n  },\n  {\n    title: __('Frappe CRM mobile'),\n    opened: false,\n    subArticles: [\n      { name: 'mobile-app-installation', title: __('Mobile app installation') },\n    ],\n  },\n])\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"dialogOptions\">\n    <template #body>\n      <div class=\"bg-surface-modal px-4 pb-6 pt-5 sm:px-6\">\n        <div class=\"mb-5 flex items-center justify-between\">\n          <div>\n            <h3 class=\"text-2xl font-semibold leading-6 text-ink-gray-9\">\n              {{ __(dialogOptions.title) || __('Untitled') }}\n            </h3>\n          </div>\n          <div class=\"flex items-center gap-1\">\n            <Button\n              v-if=\"isManager() && !isMobileView\"\n              variant=\"ghost\"\n              class=\"w-7\"\n              @click=\"openQuickEntryModal\"\n            >\n              <EditIcon class=\"h-4 w-4\" />\n            </Button>\n            <Button variant=\"ghost\" class=\"w-7\" @click=\"show = false\">\n              <FeatherIcon name=\"x\" class=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n        <div v-if=\"tabs.data\">\n          <FieldLayout :tabs=\"tabs.data\" :data=\"_data\" :doctype=\"doctype\" />\n          <ErrorMessage class=\"mt-2\" :message=\"error\" />\n        </div>\n      </div>\n      <div class=\"px-4 pb-7 pt-4 sm:px-6\">\n        <div class=\"space-y-2\">\n          <Button\n            class=\"w-full\"\n            v-for=\"action in dialogOptions.actions\"\n            :key=\"action.label\"\n            v-bind=\"action\"\n            :label=\"__(action.label)\"\n            :loading=\"loading\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport FieldLayout from '@/components/FieldLayout/FieldLayout.vue'\nimport EditIcon from '@/components/Icons/EditIcon.vue'\nimport { usersStore } from '@/stores/users'\nimport { isMobileView } from '@/composables/settings'\nimport { FeatherIcon, createResource, ErrorMessage, call } from 'frappe-ui'\nimport { ref, nextTick, watch, computed } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    required: true,\n  },\n  data: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst emit = defineEmits(['showQuickEntryModal', 'callback'])\n\nconst { isManager } = usersStore()\n\nconst show = defineModel()\n\nconst loading = ref(false)\nconst error = ref(null)\n\nlet _data = ref({})\n\nconst dialogOptions = computed(() => {\n  let doctype = props.doctype\n\n  if (doctype.startsWith('CRM ') || doctype.startsWith('FCRM ')) {\n    doctype = doctype.replace(/^(CRM |FCRM )/, '')\n  }\n\n  let title = __('New {0}', [doctype])\n  let size = 'xl'\n  let actions = [\n    {\n      label: __('Create'),\n      variant: 'solid',\n      onClick: () => create(),\n    },\n  ]\n\n  return { title, size, actions }\n})\n\nconst tabs = createResource({\n  url: 'crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout',\n  cache: ['QuickEntry', props.doctype],\n  params: { doctype: props.doctype, type: 'Quick Entry' },\n  auto: true,\n})\n\nasync function create() {\n  loading.value = true\n  error.value = null\n\n  let doc = await call(\n    'frappe.client.insert',\n    {\n      doc: {\n        doctype: props.doctype,\n        ..._data.value,\n      },\n    },\n    {\n      onError: (err) => {\n        loading.value = false\n        if (err.error) {\n          error.value = err.error.messages?.[0]\n        }\n      },\n    },\n  )\n\n  loading.value = false\n  show.value = false\n  emit('callback', doc)\n}\n\nwatch(\n  () => show.value,\n  (value) => {\n    if (!value) return\n\n    nextTick(() => {\n      _data.value = { ...props.data }\n    })\n  },\n)\n\nfunction openQuickEntryModal() {\n  emit('showQuickEntryModal', props.doctype)\n  nextTick(() => {\n    show.value = false\n  })\n}\n</script>\n","<template>\n  <svg\n    viewBox=\"0 0 64 64\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    stroke-width=\"3\"\n    stroke=\"currentColor\"\n    fill=\"none\"\n  >\n    <g\n      id=\"SVGRepo_tracerCarrier\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    ></g>\n    <g id=\"SVGRepo_iconCarrier\">\n      <path\n        d=\"M26.67,38.57l-.82,11.54A2.88,2.88,0,0,0,28.14,49l5.5-5.26,11.42,8.35c2.08,1.17,3.55.56,4.12-1.92l7.49-35.12h0c.66-3.09-1.08-4.33-3.16-3.55l-44,16.85C6.47,29.55,6.54,31.23,9,32l11.26,3.5L45.59,20.71c1.23-.83,2.36-.37,1.44.44Z\"\n        stroke-linecap=\"round\"\n      ></path>\n    </g>\n  </svg>\n</template>\n","<template>\n  <Dialog v-model=\"show\" :options=\"{ size: 'sm' }\">\n    <template #body>\n      <div class=\"p-4 pt-5\">\n        <div class=\"flex justify-center\">\n          <div class=\"flex flex-col items-center\">\n            <CRMLogo class=\"mb-3 size-12\" />\n            <h3 class=\"font-semibold text-xl text-ink-gray-9\">Frappe CRM</h3>\n            <div class=\"flex items-center mt-1\">\n              <div class=\"text-base text-ink-gray-6\">\n                {{ appVersion.branch != 'main' ? appVersion.branch : '' }}\n                <template v-if=\"appVersion.branch != 'main'\">\n                  ({{ appVersion.commit }})\n                </template>\n                <template v-else>{{ appVersion.tag }}</template>\n              </div>\n\n              <Tooltip\n                :text=\"`${appVersion.commit_message} - ${appVersion.commit_date}`\"\n                placement=\"top\"\n              >\n                <LucideInfo class=\"size-3.5 text-ink-gray-8 ml-1\" />\n              </Tooltip>\n            </div>\n          </div>\n        </div>\n        <hr class=\"border-t my-3 mx-2\" />\n        <div>\n          <a\n            v-for=\"link in links\"\n            :key=\"link.label\"\n            class=\"flex py-2 px-2 hover:bg-surface-gray-1 rounded cursor-pointer\"\n            target=\"_blank\"\n            :href=\"link.url\"\n          >\n            <component\n              v-if=\"link.icon\"\n              :is=\"link.icon\"\n              class=\"size-4 mr-2 text-ink-gray-7\"\n            />\n            <span class=\"text-base text-ink-gray-8\">\n              {{ link.label }}\n            </span>\n          </a>\n        </div>\n        <hr class=\"border-t my-3 mx-2\" />\n        <p class=\"text-sm text-ink-gray-6 px-2 mt-2\">\n           Frappe Technologies Pvt. Ltd. and contributors\n        </p>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport { Tooltip } from 'frappe-ui'\nimport CRMLogo from '@/components/Icons/CRMLogo.vue'\nimport LucideGlobe from '~icons/lucide/globe'\nimport LucideGitHub from '~icons/lucide/github'\nimport LucideHeadset from '~icons/lucide/headset'\nimport LucideBug from '~icons/lucide/bug'\nimport LucideBookOpen from '~icons/lucide/book-open'\nimport TelegramIcon from '@/components/Icons/TelegramIcon.vue'\n\nlet show = defineModel()\n\nlet links = [\n  {\n    label: __('Website'),\n    url: 'https://frappe.io/crm',\n    icon: LucideGlobe,\n  },\n  {\n    label: __('GitHub Repository'),\n    url: 'https://github.com/frappe/crm',\n    icon: LucideGitHub,\n  },\n  {\n    label: __('Documentation'),\n    url: 'https://docs.frappe.io/crm',\n    icon: LucideBookOpen,\n  },\n  {\n    label: __('Telegram Channel'),\n    url: 'https://t.me/frappecrm',\n    icon: TelegramIcon,\n  },\n  {\n    label: __('Report an Issue'),\n    url: 'https://github.com/frappe/crm/issues',\n    icon: LucideBug,\n  },\n  {\n    label: __('Contact Support'),\n    url: 'https://support.frappe.io',\n    icon: LucideHeadset,\n  },\n]\n\nlet appVersion = window.app_version\n</script>\n","<template>\n  <CreateDocumentModal\n    v-if=\"showCreateDocumentModal\"\n    v-model=\"showCreateDocumentModal\"\n    :doctype=\"createDocumentDoctype\"\n    :data=\"createDocumentData\"\n    @showQuickEntryModal=\"(dt) => openQuickEntryModal(dt)\"\n    @callback=\"(data) => createDocumentCallback(data)\"\n  />\n  <QuickEntryModal\n    v-if=\"showQuickEntryModal\"\n    v-model=\"showQuickEntryModal\"\n    :doctype=\"quickEntryDoctype\"\n  />\n  <AboutModal v-model=\"showAboutModal\" />\n</template>\n<script setup>\nimport CreateDocumentModal from '@/components/Modals/CreateDocumentModal.vue'\nimport QuickEntryModal from '@/components/Modals/QuickEntryModal.vue'\nimport AboutModal from '@/components/Modals/AboutModal.vue'\nimport {\n  showCreateDocumentModal,\n  createDocumentDoctype,\n  createDocumentData,\n  createDocumentCallback,\n} from '@/composables/document'\nimport { showAboutModal } from '@/composables/settings'\nimport { ref } from 'vue'\n\nconst showQuickEntryModal = ref(false)\nconst quickEntryDoctype = ref('')\n\nfunction openQuickEntryModal(dt) {\n  showQuickEntryModal.value = true\n  quickEntryDoctype.value = dt\n}\n</script>\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","props","__props","isDependent","step","dependsOnStep","steps","s","dependsOnTooltip","stepsCompleted","totalSteps","completedPercentage","skip","skipAll","reset","resetAll","useOnboarding","searchInput","ref","search","articles","_useModel","parsedArticles","computed","a","filteredSubArticles","subArticle","openDocs","openDoc","name","onMounted","_b","_a","syncStatus","isOnboardingStepsCompleted","show","headingTitle","showHelpCenter","options","StepsIcon","resetOnboardingSteps","item","footerItems","HelpIcon","openOnboarding","minimize","showHelpModal","trialMessage","trialEndDays","showBanner","baseEndpoint","siteName","trialTitle","createResource","data","calculateTrialEndDays","trialEndDate","diffTime","upgradePlan","signupNow","$socket","globalStore","mark_as_read","toggle","mark_doc_as_read","notificationsStore","target","onClickOutside","visible","markAsRead","doc","capture","markAllAsRead","onBeforeUnmount","notifications","getRoute","notification","params","settings","setupBrand","getSettings","updateSettings","showSettings","updateOnboardingStep","invitees","role","error","description","roleMap","inviteByEmail","convertArrayToString","pendingInvitations","err","createListResource","profile","setUserImage","url","validateFile","file","extn","getUser","users","usersStore","user","showEditProfilePhotoModal","loading","updateUser","passwordUpdated","fieldname","toast","fields","createDocumentResource","tabs","_tabs","fieldsData","_sections","field","last_tab","getRandom","last_section","isManager","isAgent","twilioFields","exotelFields","twilio","exotel","twilioTabs","exotelTabs","mediumChanged","watch","defaultCallingMedium","update","validateIfDefaultMediumIsEnabled","updateMedium","call","LogoGmail","LogoOutlook","LogoSendgrid","LogoSparkpost","LogoYahoo","LogoYandex","LogoFrappeMail","fixedFields","incomingOutgoingFields","popularProviderFields","customProviderFields","services","emailIcon","validateInputs","state","isCustom","validateEmail","emit","__emit","reactive","selectedService","handleSelect","service","addEmailRes","val","createEmailAccount","badgeTitle","emailAccounts","accounts","account","_c","_d","info","isCustomService","updateAccount","old","updatedEmailAccount","nameChanged","otherFieldsChanged","isDirty","values","callRenameDoc","succesHandler","errorHandler","callSetValue","accountData","updateStep","newStep","h","Avatar","markRaw","ProfileSettings","GeneralSettings","InviteIcon","InviteMemberPage","Email2Icon","EmailConfig","PhoneIcon","TelephonySettings","WhatsAppIcon","WhatsAppSettings","isWhatsappInstalled","ERPNextIcon","ERPNextSettings","tab","activeTab","setActiveTab","tabName","activeSettingsPage","activePage","getPinnedViews","getPublicViews","viewsStore","toggleNotificationPanel","isSidebarCollapsed","useStorage","isFCSite","isDemoSite","links","LeadsIcon","DealsIcon","ContactsIcon","OrganizationsIcon","NoteIcon","TaskIcon","allViews","_views","parseView","views","view","getIcon","routeName","icon","PinIcon","sessionStore","setUp","getFirstLead","firstLead","getFirstDeal","firstDeal","showIntermediateModal","currentStep","SquareAsterisk","router","ConvertIcon","lead","deal","CommentIcon","EmailIcon","filteredSteps","_data","dialogOptions","doctype","title","size","actions","create","value","nextTick","openQuickEntryModal","LucideGlobe","LucideGitHub","LucideBookOpen","TelegramIcon","LucideBug","LucideHeadset","appVersion","showQuickEntryModal","quickEntryDoctype","dt"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}