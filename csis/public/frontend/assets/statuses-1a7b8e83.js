import{I}from"./IndicatorIcon-99f76624.js";import{M,v as u,ae as c,x as N,I as R}from"./index-85632e04.js";import{x as y}from"./index-31644aa3.js";const b=M("crm-statuses",()=>{let r=u({}),n=u({}),h=u({});const l=c({doctype:"CRM Lead Status",fields:["name","color","position"],orderBy:"position asc",cache:"lead-statuses",initialData:[],auto:!0,transform(t){for(let a of t)a.color=y(a.color),r[a.name]=a;return t}}),m=c({doctype:"CRM Deal Status",fields:["name","color","position"],orderBy:"position asc",cache:"deal-statuses",initialData:[],auto:!0,transform(t){for(let a of t)a.color=y(a.color),n[a.name]=a;return t}}),i=c({doctype:"CRM Communication Status",fields:["name"],cache:"communication-statuses",initialData:[],auto:!0,transform(t){for(let a of t)h[a.name]=a;return t}});function C(t){return t||(t=l.data[0].name),r[t]}function B(t){return t||(t=m.data[0].name),n[t]}function g(t){return t||(t=i.data[0].name),i[t]}function D(t,a,f=[]){var p,S;let s=t=="deal"?n:r;f.length&&(s=f.reduce((e,o)=>(e[o]=s[o],e),{}));let d=[];for(const e in s)d.push({label:(p=s[e])==null?void 0:p.name,value:(S=s[e])==null?void 0:S.name,icon:()=>{var o;return N(I,{class:(o=s[e])==null?void 0:o.color})},onClick:()=>{var o;R("status_changed",{doctype:t,status:e}),a&&a("status",(o=s[e])==null?void 0:o.name)}});return d}return{leadStatuses:l,dealStatuses:m,communicationStatuses:i,getLeadStatus:C,getDealStatus:B,getCommunicationStatus:g,statusOptions:D}});export{b as s};
//# sourceMappingURL=statuses-1a7b8e83.js.map
