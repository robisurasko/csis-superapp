{"version":3,"file":"ListRows-e4885bb7.js","sources":["../../../../node_modules/frappe-ui/src/components/ListView/ListEmptyState.vue","../../../../node_modules/frappe-ui/src/components/ListView/utils.js","../../../../node_modules/frappe-ui/src/components/ListView/ListHeaderItem.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListHeader.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListRowItem.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListRow.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListRows.vue","../../../../node_modules/frappe-ui/src/icons/DownSolid.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListGroupHeader.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListGroupRows.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListGroups.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListSelectBanner.vue","../../../../node_modules/frappe-ui/src/components/ListView/ListView.vue","../../../../frontend/src/components/Icons/HeartIcon.vue","../../../../frontend/src/components/Modals/EditValueModal.vue","../../../../frontend/src/components/ListBulkActions.vue","../../../../frontend/src/components/ListViews/ListRows.vue"],"sourcesContent":["<template>\n  <div\n    class=\"flex h-full w-full flex-col items-center justify-center text-base\"\n  >\n    <slot>\n      <div class=\"text-xl font-medium\">{{ list.options.emptyState.title }}</div>\n      <div class=\"mt-1 text-base text-ink-gray-5\">\n        {{ list.options.emptyState.description }}\n      </div>\n      <Button\n        v-if=\"list.options.emptyState.button\"\n        v-bind=\"list.options.emptyState.button\"\n        class=\"mt-4\"\n      ></Button>\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport { inject } from 'vue'\nimport { Button } from '../Button'\n\nconst list = inject('list')\n</script>\n","export function getGridTemplateColumns(columns, withCheckbox = true) {\n  let checkBoxWidth = withCheckbox ? '14px ' : ''\n  let columnsWidth = columns\n    .map((col) => {\n      let width = col.width || 1\n      if (typeof width === 'number') {\n        return width + 'fr'\n      }\n      return width\n    })\n    .join(' ')\n  return checkBoxWidth + columnsWidth\n}\n\nexport const alignmentMap = {\n  left: 'justify-start',\n  start: 'justify-start',\n  center: 'justify-center',\n  middle: 'justify-center',\n  right: 'justify-end',\n  end: 'justify-end',\n}\n","<template>\n  <div\n    ref=\"columnRef\"\n    class=\"group relative flex items-center\"\n    :class=\"item.align ? alignmentMap[item.align] : 'justify-between'\"\n  >\n    <div\n      class=\"flex items-center space-x-2 truncate text-sm text-ink-gray-5\"\n      :class=\"$attrs.class\"\n    >\n      <slot name=\"prefix\" v-bind=\"{ item }\" />\n      <slot>\n        <div class=\"truncate\">\n          {{ item.label }}\n        </div>\n      </slot>\n      <slot name=\"suffix\" v-bind=\"{ item }\" />\n    </div>\n    <slot v-if=\"list.options.resizeColumn\" name=\"resizer\" v-bind=\"{ item }\">\n      <div\n        class=\"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center\"\n        @mousedown=\"startResizing\"\n      >\n        <div\n          ref=\"resizer\"\n          class=\"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400\"\n        />\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport { alignmentMap } from './utils'\nimport { useDebounceFn } from '@vueuse/core'\nimport { ref, computed, inject } from 'vue'\n\nconst props = defineProps({\n  item: {\n    type: Object,\n    required: true,\n  },\n  debounce: {\n    type: Number,\n    default: 1000,\n  },\n})\n\nconst emit = defineEmits(['columnWidthUpdated'])\n\nconst resizer = ref(null)\nconst columnRef = ref(null)\n\nconst widthInPx = computed(() => {\n  if (typeof props.item.width === 'string') {\n    const parsedWidth = parseInt(props.item.width)\n    if (props.item.width.includes('rem')) {\n      return parsedWidth * 16\n    } else if (props.item.width.includes('px')) {\n      return parsedWidth\n    }\n  }\n  return columnRef.value.offsetWidth\n})\n\nconst startResizing = (e) => {\n  const initialX = e.clientX\n  const initialWidth = widthInPx.value\n  const onMouseMove = (e) => {\n    document.body.classList.add('select-none')\n    document.body.classList.add('cursor-col-resize')\n    resizer.value.style.backgroundColor = 'rgb(199 199 199)'\n    let newWidth = initialWidth + (e.clientX - initialX)\n\n    props.item.width = `${newWidth < 50 ? 50 : newWidth}px`\n    updateWidth(props.item.width)\n  }\n  const onMouseUp = () => {\n    document.body.classList.remove('select-none')\n    document.body.classList.remove('cursor-col-resize')\n    resizer.value.style.backgroundColor = ''\n    window.removeEventListener('mousemove', onMouseMove)\n    window.removeEventListener('mouseup', onMouseUp)\n  }\n  window.addEventListener('mousemove', onMouseMove)\n  window.addEventListener('mouseup', onMouseUp)\n}\n\nconst updateWidth = useDebounceFn((width) => {\n  props.item.width = width\n  emit('columnWidthUpdated')\n}, props.debounce)\n\nconst list = inject('list')\n</script>\n","<template>\n  <div\n    class=\"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2\"\n    :style=\"{\n      gridTemplateColumns: getGridTemplateColumns(\n        list.columns,\n        list.options.selectable,\n      ),\n    }\"\n  >\n    <Checkbox\n      v-if=\"list.options.selectable\"\n      class=\"cursor-pointer duration-300\"\n      :modelValue=\"list.allRowsSelected\"\n      @click.stop=\"list.toggleAllRows\"\n    />\n    <slot>\n      <ListHeaderItem\n        v-for=\"column in list.columns\"\n        :key=\"column.key\"\n        :item=\"column\"\n        @columnWidthUpdated=\"emit('columnWidthUpdated', column)\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport Checkbox from '../Checkbox.vue'\nimport ListHeaderItem from './ListHeaderItem.vue'\nimport { getGridTemplateColumns } from './utils'\nimport { inject } from 'vue'\n\nconst emit = defineEmits(['columnWidthUpdated'])\n\nconst list = inject('list')\n</script>\n","<template>\n  <div class=\"flex items-center space-x-2\" :class=\"alignmentMap[align]\">\n    <slot name=\"prefix\">\n      <component\n        v-if=\"column.prefix\"\n        :is=\"\n          typeof column.prefix === 'function'\n            ? column.prefix({ row })\n            : column.prefix\n        \"\n      />\n    </slot>\n    <Tooltip\n      v-bind=\"\n        list.options.showTooltip\n          ? {\n              text: tooltip,\n            }\n          : { text: '' }\n      \"\n    >\n      <slot v-bind=\"{ label }\">\n        <div class=\"truncate text-base\">{{ label }}</div>\n      </slot>\n    </Tooltip>\n    <slot name=\"suffix\" />\n  </div>\n</template>\n<script setup>\nimport { computed, inject } from 'vue'\nimport { Tooltip } from '../../index'\nimport { alignmentMap } from './utils'\n\nconst props = defineProps({\n  column: {\n    type: Object,\n    default: {},\n  },\n  row: {\n    type: Object,\n    default: {},\n  },\n  item: {\n    type: [String, Number, Object],\n    default: '',\n  },\n  align: {\n    type: String,\n    default: 'left',\n  },\n})\n\nconst label = computed(() => {\n  if (props.column?.getLabel) return props.column?.getLabel({ row: props.row })\n  return getValue(props.item).label || ''\n})\n\nconst tooltip = computed(() => {\n  if (!list.value.options.showTooltip) return ''\n  return props.column.getTooltip\n    ? props.column.getTooltip(props.row)\n    : getValue(props.item).label\n})\n\nfunction getValue(value) {\n  if (value && typeof value === 'object') {\n    return value\n  }\n  return { label: value }\n}\n\nconst list = inject('list')\n</script>\n","<template>\n  <component\n    :is=\"list.options.getRowRoute ? 'router-link' : 'div'\"\n    :class=\"[\n      roundedClass,\n      isSelected || isActive ? 'bg-surface-gray-2' : '',\n      isHoverable ? 'cursor-pointer' : '',\n      isHoverable\n        ? isSelected || isActive\n          ? 'hover:bg-surface-gray-3'\n          : 'hover:bg-surface-menu-bar'\n        : '',\n    ]\"\n    class=\"flex flex-col transition-all duration-300 ease-in-out\"\n    v-bind=\"{\n      to: list.options.getRowRoute ? list.options.getRowRoute(row) : undefined,\n      onClick: (e) => onRowClick(row, e),\n    }\"\n  >\n    <component\n      :is=\"list.options.getRowRoute ? 'template' : 'button'\"\n      class=\"[all:unset] hover:[all:unset]\"\n    >\n      <div\n        class=\"grid items-center space-x-4 px-2\"\n        :style=\"{\n          height: rowHeight,\n          gridTemplateColumns: getGridTemplateColumns(\n            list.columns,\n            list.options.selectable\n          ),\n        }\"\n      >\n        <div\n          v-if=\"list.options.selectable\"\n          class=\"w-fit pr-2 py-3 flex\"\n          @click.stop.prevent\n          @dblclick.stop\n        >\n          <Checkbox\n            :modelValue=\"isSelected\"\n            class=\"cursor-pointer duration-300\"\n            @click.stop=\"list.toggleRow(row[list.rowKey])\"\n          />\n        </div>\n        <div\n          v-for=\"(column, i) in list.columns\"\n          :key=\"column.key\"\n          :class=\"[\n            alignmentMap[column.align],\n            i == 0 ? 'text-ink-gray-9' : 'text-ink-gray-7',\n          ]\"\n        >\n          <slot v-bind=\"{ idx: i, column, item: row[column.key], isActive }\">\n            <component\n              v-if=\"list.slots.cell\"\n              :is=\"list.slots.cell\"\n              v-bind=\"{\n                column,\n                row,\n                item: row[column.key],\n                align: column.align,\n              }\"\n            />\n            <ListRowItem\n              v-else\n              :column=\"column\"\n              :row=\"row\"\n              :item=\"row[column.key]\"\n              :align=\"column.align\"\n            />\n          </slot>\n        </div>\n      </div>\n      <div\n        v-if=\"!isLastRow\"\n        class=\"h-px border-t\"\n        :class=\"\n          roundedClass === 'rounded' || roundedClass?.includes?.('rounded-b')\n            ? 'mx-2 border-outline-gray-1'\n            : 'border-t-[--surface-gray-2]'\n        \"\n      />\n    </component>\n  </component>\n</template>\n\n<script setup>\nimport Checkbox from '../Checkbox.vue'\nimport ListRowItem from './ListRowItem.vue'\nimport { alignmentMap, getGridTemplateColumns } from './utils'\nimport { computed, inject, ref } from 'vue'\n\nconst props = defineProps({\n  row: {\n    type: Object,\n    required: true,\n  },\n})\n\nconst list = inject('list')\n\nconst isLastRow = computed(() => {\n  if (!list.value.rows?.length) return false\n  return (\n    list.value.rows[list.value.rows.length - 1][list.value.rowKey] ===\n    props.row[list.value.rowKey]\n  )\n})\n\nconst isSelected = computed(() => {\n  return list.value.selections.has(props.row[list.value.rowKey])\n})\nconst isActive = computed(\n  () =>\n    list.value.options.enableActive &&\n    list.value.activeRow.value === props.row.name\n)\n\nconst isHoverable = computed(() => {\n  return list.value.options.getRowRoute || list.value.options.onRowClick\n})\n\nconst rowHeight = computed(() => {\n  if (typeof list.value.options.rowHeight === 'number') {\n    return `${list.value.options.rowHeight}px`\n  }\n  return list.value.options.rowHeight\n})\n\nconst roundedClass = computed(() => {\n  if (!isSelected.value) return 'rounded'\n  const selections = [...list.value.selections]\n  let groups = list.value.rows[0]?.group\n    ? list.value.rows.map((k) => k.rows)\n    : [list.value.rows]\n\n  for (let rows of groups) {\n    let currentIndex = rows.findIndex((k) => k == props.row)\n    if (currentIndex === -1) continue\n    let atBottom = !selections.includes(rows[currentIndex + 1]?.name)\n    let atTop = !selections.includes(rows[currentIndex - 1]?.name)\n    return (atBottom ? 'rounded-b ' : '') + (atTop ? 'rounded-t' : '')\n  }\n})\n\nconst onRowClick = (row, e) => {\n  if (list.value.options.onRowClick) list.value.options.onRowClick(row, e)\n  if (list.value.activeRow.value === row.name) {\n    list.value.activeRow.value = null\n  } else {\n    list.value.activeRow.value = row.name\n  }\n}\n</script>\n","<template>\n  <div class=\"h-full overflow-y-auto\">\n    <slot>\n      <ListRow v-for=\"row in list.rows\" :key=\"row[list.rowKey]\" :row=\"row\" />\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport ListRow from './ListRow.vue'\nimport { inject } from 'vue'\n\nconst list = inject('list')\n</script>\n","<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\">\n    <path\n      fill=\"currentColor\"\n      d=\"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex items-center\">\n    <button\n      @click=\"toggleGroup\"\n      class=\"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2\"\n    >\n      <DownSolid\n        class=\"h-4 w-4 text-ink-gray-6 transition-transform duration-200\"\n        :class=\"[group.collapsed ? '-rotate-90' : '']\"\n      />\n    </button>\n    <slot>\n      <div class=\"w-full py-1.5 pr-2\">\n        <component\n          v-if=\"list.slots['group-header']\"\n          :is=\"list.slots['group-header']\"\n          v-bind=\"{ group }\"\n        />\n        <span v-else class=\"text-base font-medium leading-6\">\n          {{ group.group }}\n        </span>\n      </div>\n    </slot>\n  </div>\n  <div class=\"mx-2 h-px border-t border-outline-gray-modals\"></div>\n</template>\n<script setup>\nimport { inject } from 'vue'\nimport DownSolid from '../../icons/DownSolid.vue'\n\nconst props = defineProps({\n  group: {\n    type: Object,\n    required: true,\n  },\n})\n\nconst list = inject('list')\n\nfunction toggleGroup() {\n  if (props.group.collapsed == null) {\n    props.group.collapsed = false\n  }\n  props.group.collapsed = !props.group.collapsed\n}\n</script>\n","<template>\n  <div class=\"mb-5 mt-2\" v-if=\"!group.collapsed\">\n    <slot>\n      <ListRow v-for=\"row in group.rows\" :key=\"row[list.rowKey]\" :row=\"row\" />\n    </slot>\n  </div>\n</template>\n<script setup>\nimport ListRow from './ListRow.vue'\nimport { inject } from 'vue'\n\nconst props = defineProps({\n  group: {\n    type: Object,\n    required: true,\n  },\n})\nconst list = inject('list')\n</script>\n","<template>\n  <div class=\"h-full overflow-y-auto\">\n    <div v-for=\"group in list.rows\" :key=\"group.group\">\n      <slot>\n        <ListGroupHeader :group=\"group\">\n          <slot\n            name=\"group-header\"\n            v-if=\"$slots['group-header']\"\n            v-bind=\"{ group }\"\n          />\n        </ListGroupHeader>\n        <ListGroupRows :group=\"group\" />\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport ListGroupHeader from './ListGroupHeader.vue'\nimport ListGroupRows from './ListGroupRows.vue'\nimport { inject } from 'vue'\n\nconst list = inject('list')\n</script>\n","<template>\n  <transition\n    enter-active-class=\"duration-300 ease-out\"\n    enter-from-class=\"transform opacity-0\"\n    enter-to-class=\"opacity-100\"\n    leave-active-class=\"duration-300 ease-in\"\n    leave-from-class=\"opacity-100\"\n    leave-to-class=\"transform opacity-0\"\n  >\n    <div\n      v-if=\"list.selections.size\"\n      class=\"absolute inset-x-0 bottom-6 mx-auto w-max text-base\"\n    >\n      <div\n        class=\"flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl\"\n        :class=\"$attrs.class\"\n      >\n        <slot\n          v-bind=\"{\n            selections: list.selections,\n            allRowsSelected: list.allRowsSelected,\n            selectAll: () => list.toggleAllRows(true),\n            unselectAll: () => list.toggleAllRows(false),\n          }\"\n        >\n          <div\n            class=\"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9\"\n          >\n            <div class=\"flex items-center space-x-3\">\n              <Checkbox\n                :modelValue=\"true\"\n                :disabled=\"true\"\n                class=\"text-ink-gray-9\"\n              />\n              <div>{{ selectedText }}</div>\n            </div>\n            <div class=\"mr-3\">\n              <slot\n                name=\"actions\"\n                v-bind=\"{\n                  selections: list.selections,\n                  allRowsSelected: list.allRowsSelected,\n                  selectAll: () => list.toggleAllRows(true),\n                  unselectAll: () => list.toggleAllRows(false),\n                }\"\n              />\n            </div>\n          </div>\n          <div class=\"flex items-center space-x-1\">\n            <Button\n              class=\"w- text-ink-gray-7\"\n              :disabled=\"list.allRowsSelected\"\n              :class=\"list.allRowsSelected ? 'cursor-not-allowed' : ''\"\n              variant=\"ghost\"\n              @click=\"list.toggleAllRows(true)\"\n            >\n              Select all\n            </Button>\n            <Button\n              icon=\"x\"\n              variant=\"ghost\"\n              @click=\"list.toggleAllRows(false)\"\n            />\n          </div>\n        </slot>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script setup>\nimport Checkbox from '../Checkbox.vue'\nimport { Button } from '../Button'\nimport { computed, inject } from 'vue'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst list = inject('list')\n\nlet selectedText = computed(() => {\n  return list.value.options.selectionText(list.value.selections.size)\n})\n</script>\n","<template>\n  <div class=\"relative flex w-full flex-1 flex-col overflow-x-auto\">\n    <div\n      class=\"flex w-max min-w-full flex-col overflow-y-hidden\"\n      :class=\"$attrs.class\"\n    >\n      <slot v-bind=\"{ showGroupedRows, selectable }\">\n        <ListHeader />\n        <template v-if=\"props.rows.length\">\n          <ListGroups v-if=\"showGroupedRows\" />\n          <ListRows v-else />\n        </template>\n        <ListEmptyState v-else />\n        <ListSelectBanner v-if=\"selectable\" />\n      </slot>\n    </div>\n  </div>\n</template>\n<script setup>\nimport ListEmptyState from './ListEmptyState.vue'\nimport ListHeader from './ListHeader.vue'\nimport ListRows from './ListRows.vue'\nimport ListGroups from './ListGroups.vue'\nimport ListSelectBanner from './ListSelectBanner.vue'\nimport { ref, reactive, computed, provide, watch, useSlots } from 'vue'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst props = defineProps({\n  columns: {\n    type: Array,\n    default: [],\n  },\n  rows: {\n    type: Array,\n    default: [],\n  },\n  rowKey: {\n    type: String,\n    required: true,\n  },\n  options: {\n    type: Object,\n    default: () => ({\n      getRowRoute: null,\n      onRowClick: null,\n      showTooltip: true,\n      selectable: true,\n      resizeColumn: false,\n      rowHeight: 40,\n      emptyState: {\n        title: 'No Data',\n        description: 'No data available',\n      },\n    }),\n  },\n})\n\nconst slots = useSlots()\n\nlet selections = reactive(new Set())\nlet activeRow = ref(null)\n\nconst emit = defineEmits(['update:selections', 'update:active-row'])\n\nwatch(selections, (value) => {\n  if (selections.size) {\n    activeRow.value = null\n  }\n  emit('update:selections', value)\n})\n\nwatch(activeRow, (value) => {\n  emit('update:active-row', value)\n})\n\nlet _options = computed(() => {\n  function defaultTrue(value) {\n    return value === undefined ? true : value\n  }\n\n  function defaultFalse(value) {\n    return value === undefined ? false : value\n  }\n\n  return {\n    getRowRoute: props.options.getRowRoute || null,\n    onRowClick: props.options.onRowClick || null,\n    showTooltip: defaultTrue(props.options.showTooltip),\n    selectionText:\n      props.options.selectionText ||\n      ((val) => (val === 1 ? '1 row selected' : `${val} rows selected`)),\n    enableActive: defaultFalse(props.options.enableActive),\n    selectable: defaultTrue(props.options.selectable),\n    resizeColumn: defaultFalse(props.options.resizeColumn),\n    rowHeight: props.options.rowHeight || 40,\n    emptyState: props.options.emptyState,\n  }\n})\n\nconst allRowsSelected = computed(() => {\n  if (!props.rows.length) return false\n  if (showGroupedRows.value) {\n    return (\n      selections.size ===\n      props.rows.reduce((acc, row) => acc + row.rows.length, 0)\n    )\n  }\n  return selections.size === props.rows.length\n})\n\nconst selectable = computed(() => {\n  return _options.value.selectable\n})\n\nlet showGroupedRows = computed(() => {\n  return props.rows.every(\n    (row) => row.group && row.rows && Array.isArray(row.rows)\n  )\n})\n\nfunction toggleRow(row) {\n  if (!selections.delete(row)) {\n    selections.add(row)\n  }\n}\n\nfunction toggleAllRows(select) {\n  if (!select || allRowsSelected.value) {\n    selections.clear()\n    return\n  }\n  if (showGroupedRows.value) {\n    props.rows.forEach((row) => {\n      row.rows.forEach((r) => selections.add(r[props.rowKey]))\n    })\n    return\n  }\n  props.rows.forEach((row) => selections.add(row[props.rowKey]))\n}\n\nprovide(\n  'list',\n  computed(() => ({\n    rowKey: props.rowKey,\n    rows: props.rows,\n    columns: props.columns,\n    options: _options.value,\n    selections: selections,\n    activeRow: activeRow,\n    allRowsSelected: allRowsSelected.value,\n    slots: slots,\n    toggleRow,\n    toggleAllRows,\n  }))\n)\n\ndefineExpose({\n  selections,\n  allRowsSelected,\n  toggleRow,\n  toggleAllRows,\n})\n</script>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"fillCurrent\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-heart\"\n  >\n    <path\n      d=\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\"\n    />\n  </svg>\n</template>\n","<template>\n  <Dialog v-model=\"show\" :options=\"{ title: __('Bulk Edit') }\">\n    <template #body-content>\n      <div class=\"mb-4\">\n        <div class=\"mb-1.5 text-sm text-ink-gray-5\">{{ __('Field') }}</div>\n        <Autocomplete\n          :value=\"field.label\"\n          :options=\"fields.data\"\n          @change=\"(e) => changeField(e)\"\n          :placeholder=\"__('Source')\"\n        />\n      </div>\n      <div>\n        <div class=\"mb-1.5 text-sm text-ink-gray-5\">{{ __('Value') }}</div>\n        <component\n          :is=\"getValueComponent(field)\"\n          :value=\"newValue\"\n          size=\"md\"\n          @change=\"(v) => updateValue(v)\"\n          :placeholder=\"__('Contact Us')\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        class=\"w-full\"\n        variant=\"solid\"\n        @click=\"updateValues\"\n        :loading=\"loading\"\n        :label=\"__('Update {0} Records', [recordCount])\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport Link from '@/components/Controls/Link.vue'\nimport Autocomplete from '@/components/frappe-ui/Autocomplete.vue'\nimport { capture } from '@/telemetry'\nimport { FormControl, call, createResource, TextEditor, DatePicker } from 'frappe-ui'\nimport { ref, computed, onMounted, h } from 'vue'\n\nconst typeCheck = ['Check']\nconst typeLink = ['Link', 'Dynamic Link']\nconst typeNumber = ['Float', 'Int', 'Currency', 'Percent']\nconst typeSelect = ['Select']\nconst typeEditor = ['Text Editor']\nconst typeDate = ['Date', 'Datetime']\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    required: true,\n  },\n  selectedValues: {\n    type: Set,\n    required: true,\n  },\n})\n\nconst show = defineModel()\n\nconst emit = defineEmits(['reload'])\n\nconst fields = createResource({\n  url: 'crm.api.doc.get_fields',\n  cache: ['fields', props.doctype],\n  params: {\n    doctype: props.doctype,\n  },\n  transform: (data) => {\n    return data.filter((f) => f.hidden == 0 && f.read_only == 0)\n  }\n})\n\nonMounted(() => {\n  if (fields.data?.length) return\n  fields.fetch()\n})\n\nconst recordCount = computed(() => props.selectedValues?.size || 0)\n\nconst field = ref({\n  label: '',\n  type: '',\n  value: '',\n  options: '',\n})\n\nconst newValue = ref('')\nconst loading = ref(false)\n\nfunction updateValues() {\n  let fieldVal = newValue.value\n  if (field.value.type == 'Check') {\n    fieldVal = fieldVal == 'Yes' ? 1 : 0\n  }\n  loading.value = true\n  call(\n    'frappe.desk.doctype.bulk_update.bulk_update.submit_cancel_or_update_docs',\n    {\n      doctype: props.doctype,\n      docnames: Array.from(props.selectedValues),\n      action: 'update',\n      data: {\n        [field.value.value]: fieldVal || null,\n      },\n    }\n  ).then(() => {\n    field.value = {\n      label: '',\n      type: '',\n      value: '',\n      options: '',\n    }\n    newValue.value = ''\n    loading.value = false\n    show.value = false\n    capture('bulk_update', { doctype: props.doctype })\n    emit('reload')\n  })\n}\n\nfunction changeField(f) {\n  newValue.value = ''\n  if (!f) return\n  field.value = f\n}\n\nfunction updateValue(v) {\n  let value = v.target ? v.target.value : v\n  newValue.value = value\n}\n\nfunction getSelectOptions(options) {\n  return options.split('\\n')\n}\n\nfunction getValueComponent(f) {\n  const { type, options } = f\n  if (typeSelect.includes(type) || typeCheck.includes(type)) {\n    const _options = type == 'Check' ? ['Yes', 'No'] : getSelectOptions(options)\n    return h(FormControl, {\n      type: 'select',\n      options: _options.map((o) => ({\n        label: o,\n        value: o,\n      })),\n      modelValue: newValue.value,\n    })\n  } else if (typeLink.includes(type)) {\n    if (type == 'Dynamic Link') {\n      return h(FormControl, { type: 'text' })\n    }\n    return h(Link, { class: 'form-control', doctype: options })\n  } else if (typeNumber.includes(type)) {\n    return h(FormControl, { type: 'number' })\n  } else if (typeDate.includes(type)) {\n    return h(DatePicker)\n  } else if (typeEditor.includes(type)) {\n    return h(TextEditor, {\n      variant: 'outline',\n      editorClass:\n        '!prose-sm overflow-auto min-h-[80px] max-h-80 py-1.5 px-2 rounded border border-outline-gray-2 bg-surface-white hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors',\n      bubbleMenu: true,\n      content: newValue.value,\n    })\n  } else {\n    return h(FormControl, { type: 'text' })\n  }\n}\n</script>\n","<template>\n  <EditValueModal\n    v-if=\"showEditModal\"\n    v-model=\"showEditModal\"\n    :doctype=\"doctype\"\n    :selectedValues=\"selectedValues\"\n    @reload=\"reload\"\n  />\n  <AssignmentModal\n    v-if=\"showAssignmentModal\"\n    v-model=\"showAssignmentModal\"\n    v-model:assignees=\"bulkAssignees\"\n    :docs=\"selectedValues\"\n    :doctype=\"doctype\"\n    @reload=\"reload\"\n  />\n</template>\n\n<script setup>\nimport EditValueModal from '@/components/Modals/EditValueModal.vue'\nimport AssignmentModal from '@/components/Modals/AssignmentModal.vue'\nimport { setupListCustomizations } from '@/utils'\nimport { globalStore } from '@/stores/global'\nimport { capture } from '@/telemetry'\nimport { call, toast } from 'frappe-ui'\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: '',\n  },\n  options: {\n    type: Object,\n    default: () => ({\n      hideEdit: false,\n      hideDelete: false,\n      hideAssign: false,\n    }),\n  },\n})\n\nconst list = defineModel()\n\nconst router = useRouter()\n\nconst { $dialog, $socket } = globalStore()\n\nconst showEditModal = ref(false)\nconst selectedValues = ref([])\nconst unselectAllAction = ref(() => {})\n\nfunction editValues(selections, unselectAll) {\n  selectedValues.value = selections\n  showEditModal.value = true\n  unselectAllAction.value = unselectAll\n}\n\nfunction convertToDeal(selections, unselectAll) {\n  $dialog({\n    title: __('Convert to Deal'),\n    message: __('Are you sure you want to convert {0} Lead(s) to Deal(s)?', [\n      selections.size,\n    ]),\n    variant: 'solid',\n    theme: 'blue',\n    actions: [\n      {\n        label: __('Convert'),\n        variant: 'solid',\n        onClick: (close) => {\n          capture('bulk_convert_to_deal')\n          Array.from(selections).forEach((name) => {\n            call('crm.fcrm.doctype.crm_lead.crm_lead.convert_to_deal', {\n              lead: name,\n            }).then(() => {\n              toast.success(__('Converted successfully'))\n              list.value.reload()\n              unselectAll()\n              close()\n            })\n          })\n        },\n      },\n    ],\n  })\n}\n\nfunction deleteValues(selections, unselectAll) {\n  $dialog({\n    title: __('Delete'),\n    message: __('Are you sure you want to delete {0} item(s)?', [\n      selections.size,\n    ]),\n    variant: 'solid',\n    theme: 'red',\n    actions: [\n      {\n        label: __('Delete'),\n        variant: 'solid',\n        theme: 'red',\n        onClick: (close) => {\n          capture('bulk_delete')\n          call('frappe.desk.reportview.delete_items', {\n            items: JSON.stringify(Array.from(selections)),\n            doctype: props.doctype,\n          }).then(() => {\n            toast.success(__('Deleted successfully'))\n            unselectAll()\n            list.value.reload()\n            close()\n          })\n        },\n      },\n    ],\n  })\n}\n\nconst showAssignmentModal = ref(false)\nconst bulkAssignees = ref([])\n\nfunction assignValues(selections, unselectAll) {\n  showAssignmentModal.value = true\n  selectedValues.value = selections\n  unselectAllAction.value = unselectAll\n}\n\nfunction clearAssignemnts(selections, unselectAll) {\n  $dialog({\n    title: __('Clear Assignment'),\n    message: __('Are you sure you want to clear assignment for {0} item(s)?', [\n      selections.size,\n    ]),\n    variant: 'solid',\n    theme: 'red',\n    actions: [\n      {\n        label: __('Clear Assignment'),\n        variant: 'solid',\n        theme: 'red',\n        onClick: (close) => {\n          capture('bulk_clear_assignment')\n          call('frappe.desk.form.assign_to.remove_multiple', {\n            doctype: props.doctype,\n            names: JSON.stringify(Array.from(selections)),\n            ignore_permissions: true,\n          }).then(() => {\n            toast.success(__('Assignment cleared successfully'))\n            reload(unselectAll)\n            close()\n          })\n        },\n      },\n    ],\n  })\n}\n\nconst customBulkActions = ref([])\nconst customListActions = ref([])\n\nfunction bulkActions(selections, unselectAll) {\n  let actions = []\n\n  if (!props.options.hideEdit) {\n    actions.push({\n      label: __('Edit'),\n      onClick: () => editValues(selections, unselectAll),\n    })\n  }\n\n  if (!props.options.hideDelete) {\n    actions.push({\n      label: __('Delete'),\n      onClick: () => deleteValues(selections, unselectAll),\n    })\n  }\n\n  if (!props.options.hideAssign) {\n    actions.push({\n      label: __('Assign To'),\n      onClick: () => assignValues(selections, unselectAll),\n    })\n    actions.push({\n      label: __('Clear Assignment'),\n      onClick: () => clearAssignemnts(selections, unselectAll),\n    })\n  }\n\n  if (props.doctype === 'CRM Lead') {\n    actions.push({\n      label: __('Convert to Deal'),\n      onClick: () => convertToDeal(selections, unselectAll),\n    })\n  }\n\n  customBulkActions.value.forEach((action) => {\n    actions.push({\n      label: __(action.label),\n      onClick: () =>\n        action.onClick({\n          list: list.value,\n          selections,\n          unselectAll,\n          call,\n          createToast: toast.create,\n          toast,\n          $dialog,\n          router,\n        }),\n    })\n  })\n  return actions\n}\n\nfunction reload(unselectAll) {\n  unselectAllAction.value?.()\n  unselectAll?.()\n  list.value?.reload()\n}\n\nonMounted(async () => {\n  if (!list.value?.data) return\n  let customization = await setupListCustomizations(list.value.data, {\n    list: list.value,\n    call,\n    createToast: toast.create,\n    toast,\n    $dialog,\n    $socket,\n    router,\n  })\n  customBulkActions.value =\n    customization?.bulkActions || list.value?.data?.bulkActions || []\n  customListActions.value =\n    customization?.actions || list.value?.data?.listActions || []\n})\n\ndefineExpose({\n  bulkActions,\n  customListActions,\n})\n</script>\n","<template>\n  <div class=\"mx-3 mt-2 h-full overflow-y-auto sm:mx-5\" v-if=\"showGroupedRows\">\n    <div v-for=\"group in reactivieRows\" :key=\"group.group\">\n      <ListGroupHeader :group=\"group\">\n        <div\n          class=\"my-2 flex items-center gap-2 text-base font-medium text-ink-gray-8\"\n        >\n          <div>{{ __(group.label) }} -</div>\n          <div class=\"flex items-center gap-1\">\n            <component v-if=\"group.icon\" :is=\"group.icon\" />\n            <div v-if=\"group.group == ' '\" class=\"text-ink-gray-4\">\n              {{ __('Empty') }}\n            </div>\n            <div v-else>{{ group.group }}</div>\n          </div>\n        </div>\n      </ListGroupHeader>\n      <ListGroupRows :group=\"group\">\n        <ListRow\n          v-for=\"row in group.rows\"\n          :key=\"row.name\"\n          v-slot=\"{ idx, column, item }\"\n          :row=\"row\"\n        >\n          <slot v-bind=\"{ idx, column, item, row }\" />\n        </ListRow>\n      </ListGroupRows>\n    </div>\n  </div>\n  <ListRows\n    v-else\n    ref=\"scrollContainer\"\n    class=\"mx-3 sm:mx-5\"\n    @scroll=\"handleScroll\"\n  >\n    <ListRow\n      v-for=\"row in reactivieRows\"\n      :key=\"row.name\"\n      v-slot=\"{ idx, column, item }\"\n      :row=\"row\"\n    >\n      <slot v-bind=\"{ idx, column, item, row }\" />\n    </ListRow>\n  </ListRows>\n</template>\n\n<script setup>\nimport { useStorage } from '@vueuse/core'\nimport { ListRows, ListRow, ListGroupHeader, ListGroupRows } from 'frappe-ui'\nimport { ref, computed, watch, onBeforeUnmount, onMounted } from 'vue'\n\nconst props = defineProps({\n  rows: {\n    type: Array,\n    required: true,\n  },\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n})\n\nconst reactivieRows = ref(props.rows)\n\nwatch(\n  () => props.rows,\n  (val) => (reactivieRows.value = val),\n)\n\nlet showGroupedRows = computed(() => {\n  return props.rows.every(\n    (row) => row.group && row.rows && Array.isArray(row.rows),\n  )\n})\n\nconst scrollPosition = useStorage(`scrollPosition${props.doctype}`, 0)\nconst scrollContainer = ref(null)\n\nconst handleScroll = () => {\n  if (scrollContainer.value) {\n    scrollPosition.value = scrollContainer.value.$el.scrollTop\n  }\n}\n\nonBeforeUnmount(() => {\n  if (scrollContainer.value) {\n    scrollContainer.value.$el.removeEventListener('scroll', handleScroll)\n  }\n})\n\nonMounted(() => {\n  if (scrollContainer.value) {\n    scrollContainer.value.$el.addEventListener('scroll', handleScroll)\n    scrollContainer.value.$el.scrollTop = scrollPosition.value\n  }\n})\n</script>\n"],"names":["list","inject","getGridTemplateColumns","columns","withCheckbox","checkBoxWidth","columnsWidth","col","width","alignmentMap","props","__props","emit","__emit","resizer","ref","columnRef","widthInPx","computed","parsedWidth","startResizing","e","initialX","initialWidth","onMouseMove","newWidth","updateWidth","onMouseUp","useDebounceFn","label","_a","_b","getValue","tooltip","value","isLastRow","isSelected","isActive","isHoverable","rowHeight","roundedClass","selections","groups","k","rows","currentIndex","atBottom","atTop","_c","onRowClick","row","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","toggleGroup","selectedText","slots","useSlots","reactive","activeRow","watch","_options","defaultTrue","defaultFalse","val","allRowsSelected","showGroupedRows","acc","selectable","toggleRow","toggleAllRows","select","r","provide","__expose","typeCheck","typeLink","typeNumber","typeSelect","typeEditor","typeDate","show","_useModel","fields","createResource","data","f","onMounted","recordCount","field","newValue","loading","updateValues","fieldVal","call","capture","changeField","updateValue","v","getSelectOptions","options","getValueComponent","type","h","FormControl","o","Link","DatePicker","TextEditor","router","useRouter","$dialog","$socket","globalStore","showEditModal","selectedValues","unselectAllAction","editValues","unselectAll","convertToDeal","close","name","toast","deleteValues","showAssignmentModal","bulkAssignees","assignValues","clearAssignemnts","reload","customBulkActions","customListActions","bulkActions","actions","action","customization","setupListCustomizations","_e","_d","reactivieRows","scrollPosition","useStorage","scrollContainer","handleScroll","onBeforeUnmount"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}